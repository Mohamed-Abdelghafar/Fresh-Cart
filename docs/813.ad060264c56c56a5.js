"use strict";(self.webpackChunkFreshCart=self.webpackChunkFreshCart||[]).push([[813],{2813:(N,l,a)=>{a.r(l),a.d(l,{ForgotPasswordComponent:()=>Q});var m=a(6814),i=a(95),e=a(4769),d=a(9410),u=a(1120);function c(t,n){1&t&&(e.TgZ(0,"span"),e._uU(1,"1"),e.qZA())}function p(t,n){1&t&&e._UZ(0,"i",8)}function g(t,n){1&t&&(e.TgZ(0,"span"),e._uU(1,"2"),e.qZA())}function f(t,n){1&t&&e._UZ(0,"i",8)}function h(t,n){1&t&&(e.TgZ(0,"span"),e._uU(1,"3"),e.qZA())}function x(t,n){1&t&&e._UZ(0,"i",8)}function w(t,n){1&t&&(e.TgZ(0,"p",20),e._uU(1,"Email is Required"),e.qZA())}function P(t,n){1&t&&(e.TgZ(0,"p",20),e._uU(1,"Email is inValid"),e.qZA())}function F(t,n){if(1&t&&(e.TgZ(0,"div",18),e.YNc(1,w,2,0,"p",19),e.YNc(2,P,2,0,"p",19),e.qZA()),2&t){const s=e.oxw(2);let r,o;e.xp6(1),e.Q6J("ngIf",null==(r=s.forgotPassForm.get("email"))?null:r.getError("required")),e.xp6(1),e.Q6J("ngIf",null==(o=s.forgotPassForm.get("email"))?null:o.getError("email"))}}function T(t,n){if(1&t&&(e.TgZ(0,"div",21),e._uU(1),e.qZA()),2&t){const s=e.oxw(2);e.xp6(1),e.Oqu(s.resetCodeWasSent)}}function C(t,n){if(1&t&&(e.TgZ(0,"div",22),e._uU(1),e.qZA()),2&t){const s=e.oxw(2);e.xp6(1),e.Oqu(s.forgotFormMsg)}}function Z(t,n){if(1&t){const s=e.EpF();e.TgZ(0,"form",9)(1,"div")(2,"label",10),e._uU(3,"Email"),e.qZA(),e._UZ(4,"input",11,12),e.YNc(6,F,3,2,"div",13),e.qZA(),e.TgZ(7,"button",14,15),e.NdJ("click",function(){e.CHM(s);const o=e.MAs(8),_=e.oxw();return e.KtG(_.forgotPass(o))}),e._uU(9,"Forgot Password"),e.qZA(),e.YNc(10,T,2,1,"div",16),e.YNc(11,C,2,1,"div",17),e.qZA()}if(2&t){const s=e.MAs(5),r=e.oxw();let o;e.Q6J("formGroup",r.forgotPassForm),e.xp6(6),e.Q6J("ngIf",(null==(o=r.forgotPassForm.get("email"))?null:o.errors)&&((null==(o=r.forgotPassForm.get("email"))?null:o.touched)||s.value.length>0)),e.xp6(1),e.Q6J("disabled",r.forgotPassForm.invalid),e.xp6(3),e.Q6J("ngIf",r.resetCodeWasSent),e.xp6(1),e.Q6J("ngIf",r.forgotFormMsg)}}function v(t,n){1&t&&(e.TgZ(0,"p",20),e._uU(1,"Reset Code is Required"),e.qZA())}function A(t,n){if(1&t&&(e.TgZ(0,"div",18),e.YNc(1,v,2,0,"p",19),e.qZA()),2&t){const s=e.oxw(2);let r;e.xp6(1),e.Q6J("ngIf",null==(r=s.resetCodeForm.get("resetCode"))?null:r.getError("required"))}}function b(t,n){if(1&t&&(e.TgZ(0,"div",28),e._uU(1),e.qZA()),2&t){const s=e.oxw(2);e.xp6(1),e.Oqu(s.codeFormMsg)}}function I(t,n){if(1&t){const s=e.EpF();e.TgZ(0,"form",9)(1,"div")(2,"label",23),e._uU(3,"Verify Reset Code"),e.qZA(),e._UZ(4,"input",24,25),e.YNc(6,A,2,1,"div",13),e.qZA(),e.TgZ(7,"button",14,26),e.NdJ("click",function(){e.CHM(s);const o=e.MAs(8),_=e.oxw();return e.KtG(_.resetCode(o))}),e._uU(9,"Reset Code"),e.qZA(),e.YNc(10,b,2,1,"div",27),e.qZA()}if(2&t){const s=e.MAs(5),r=e.oxw();let o;e.Q6J("formGroup",r.resetCodeForm),e.xp6(6),e.Q6J("ngIf",(null==(o=r.resetCodeForm.get("resetCode"))?null:o.errors)&&((null==(o=r.resetCodeForm.get("resetCode"))?null:o.touched)||s.value.length>0)),e.xp6(1),e.Q6J("disabled",r.resetCodeForm.invalid),e.xp6(3),e.Q6J("ngIf",r.codeFormMsg)}}function q(t,n){1&t&&(e.TgZ(0,"p",20),e._uU(1,"newPassword is Required"),e.qZA())}function E(t,n){1&t&&(e.TgZ(0,"p",20),e._uU(1,"the first letter must be capital and contain (7-20)"),e.qZA())}function M(t,n){if(1&t&&(e.TgZ(0,"div",18),e.YNc(1,q,2,0,"p",19),e.YNc(2,E,2,0,"p",19),e.qZA()),2&t){const s=e.oxw(2);let r,o;e.xp6(1),e.Q6J("ngIf",null==(r=s.resetPassForm.get("newPassword"))?null:r.getError("required")),e.xp6(1),e.Q6J("ngIf",null==(o=s.resetPassForm.get("newPassword"))?null:o.getError("pattern"))}}function J(t,n){if(1&t&&(e.TgZ(0,"div",28),e._uU(1),e.qZA()),2&t){const s=e.oxw(2);e.xp6(1),e.Oqu(s.resetPassFormMsg)}}function U(t,n){if(1&t){const s=e.EpF();e.TgZ(0,"form",9)(1,"div")(2,"label",29),e._uU(3,"Reset Password"),e.qZA(),e._UZ(4,"input",30,31),e.YNc(6,M,3,2,"div",13),e.qZA(),e.TgZ(7,"button",14,32),e.NdJ("click",function(){e.CHM(s);const o=e.MAs(8),_=e.oxw();return e.KtG(_.resetPass(o))}),e._uU(9,"Reset Password"),e.qZA(),e.YNc(10,J,2,1,"div",27),e.qZA()}if(2&t){const s=e.MAs(5),r=e.oxw();let o;e.Q6J("formGroup",r.resetPassForm),e.xp6(6),e.Q6J("ngIf",(null==(o=r.resetPassForm.get("newPassword"))?null:o.errors)&&((null==(o=r.resetPassForm.get("newPassword"))?null:o.touched)||s.value.length>0)),e.xp6(1),e.Q6J("disabled",r.resetPassForm.invalid),e.xp6(3),e.Q6J("ngIf",r.resetPassFormMsg)}}let Q=(()=>{class t{constructor(s,r,o,_){this._FormBuilder=s,this._AuthService=r,this._Router=o,this._Renderer2=_,this.stepOne=!0,this.stepTwo=!1,this.stepThree=!1,this.numberOne=!0,this.numberTwo=!0,this.numberThree=!0,this.iconOne=!1,this.iconTwo=!1,this.iconThree=!1,this.forgotFormMsg="",this.resetCodeWasSent="",this.codeFormMsg="",this.resetPassFormMsg="",this.userEmail="",this.forgotPassForm=this._FormBuilder.group({email:[null,[i.kI.required,i.kI.email]]}),this.resetCodeForm=this._FormBuilder.group({resetCode:[null,[i.kI.required]]}),this.resetPassForm=this._FormBuilder.group({newPassword:[null,[i.kI.required,i.kI.pattern(/^[A-Z][a-z0-9]{6,20}$/)]]})}forgotPass(s){this._Renderer2.setAttribute(s,"disabled","true");let r=this.forgotPassForm.value;this.userEmail=r.email,this._AuthService.forgotPassword(r).subscribe({next:o=>{"success"==o.statusMsg&&(this.forgotFormMsg="",this.resetCodeWasSent=o.message,setTimeout(()=>{this.numberOne=!1,this.iconOne=!0,this.stepOne=!1,this.stepTwo=!0},3e3))},error:o=>{this._Renderer2.removeAttribute(s,"disabled"),this.forgotFormMsg=o.error.message}})}resetCode(s){this._Renderer2.setAttribute(s,"disabled","true"),this._AuthService.resetCode(this.resetCodeForm.value).subscribe({next:o=>{this._Renderer2.removeAttribute(s,"disabled"),"Success"==o.status&&(this.numberTwo=!1,this.iconTwo=!0,this.stepTwo=!1,this.stepThree=!0)},error:o=>{this._Renderer2.removeAttribute(s,"disabled"),this.codeFormMsg=o.error.message}})}resetPass(s){this._Renderer2.setAttribute(s,"disabled","true");let r=this.resetPassForm.value;r.email=this.userEmail,this._AuthService.resetPass(r).subscribe({next:o=>{this._Renderer2.removeAttribute(s,"disabled"),o.token&&(localStorage.setItem("user-Token",o.token),this._Router.navigate(["/home"]))},error:o=>{this._Renderer2.removeAttribute(s,"disabled"),this.resetPassFormMsg=o.error.message}})}static#e=this.\u0275fac=function(r){return new(r||t)(e.Y36(i.qu),e.Y36(d.e),e.Y36(u.F0),e.Y36(e.Qsj))};static#t=this.\u0275cmp=e.Xpm({type:t,selectors:[["app-forgot-password"]],standalone:!0,features:[e.jDz],decls:14,vars:9,consts:[[1,"my-3","p-3","bg-main-light","rounded-3"],[1,"d-flex","justify-content-center","align-items-center"],[1,"step","one"],[4,"ngIf"],["class","fa-solid fa-check text-main",4,"ngIf"],[1,"step","two","mx-2"],[1,"step","three"],[3,"formGroup",4,"ngIf"],[1,"fa-solid","fa-check","text-main"],[3,"formGroup"],["for","userEmail",1,"ps-1"],["type","email","id","userEmail","placeholder","Enter Your Email ....","formControlName","email",1,"form-control","mt-2"],["emailInput",""],["class","alert alert-danger mt-2 py-2",4,"ngIf"],[1,"btn-main","mt-3","d-block","mx-auto",3,"disabled","click"],["forgotBtn",""],["class","p-2 mt-2 bg-main rounded-2 text-white text-center",4,"ngIf"],["class","alert alert-warning mt-2 text-center",4,"ngIf"],[1,"alert","alert-danger","mt-2","py-2"],["class","mb-0",4,"ngIf"],[1,"mb-0"],[1,"p-2","mt-2","bg-main","rounded-2","text-white","text-center"],[1,"alert","alert-warning","mt-2","text-center"],["for","userResetCode",1,"ps-1"],["type","text","id","userResetCode","placeholder","Enter Reset Code ....","formControlName","resetCode",1,"form-control","mt-2"],["resetCodeInput",""],["codeBtn",""],["class","alert alert-warning mt-2",4,"ngIf"],[1,"alert","alert-warning","mt-2"],["for","newPassword",1,"ps-1"],["type","password","id","newPassword","placeholder","Enter new password","formControlName","newPassword",1,"form-control","mt-2"],["passInput",""],["passBtn",""]],template:function(r,o){1&r&&(e.TgZ(0,"section",0)(1,"div",1)(2,"div",2),e.YNc(3,c,2,0,"span",3),e.YNc(4,p,1,0,"i",4),e.qZA(),e.TgZ(5,"div",5),e.YNc(6,g,2,0,"span",3),e.YNc(7,f,1,0,"i",4),e.qZA(),e.TgZ(8,"div",6),e.YNc(9,h,2,0,"span",3),e.YNc(10,x,1,0,"i",4),e.qZA()(),e.YNc(11,Z,12,5,"form",7),e.YNc(12,I,11,4,"form",7),e.YNc(13,U,11,4,"form",7),e.qZA()),2&r&&(e.xp6(3),e.Q6J("ngIf",o.numberOne),e.xp6(1),e.Q6J("ngIf",o.iconOne),e.xp6(2),e.Q6J("ngIf",o.numberTwo),e.xp6(1),e.Q6J("ngIf",o.iconTwo),e.xp6(2),e.Q6J("ngIf",o.numberThree),e.xp6(1),e.Q6J("ngIf",o.iconThree),e.xp6(1),e.Q6J("ngIf",o.stepOne),e.xp6(1),e.Q6J("ngIf",o.stepTwo),e.xp6(1),e.Q6J("ngIf",o.stepThree))},dependencies:[m.ez,m.O5,i.UX,i._Y,i.Fj,i.JJ,i.JL,i.sg,i.u],styles:[".step[_ngcontent-%COMP%]{width:40px;height:40px;border-radius:50%;border:2px solid rgb(65,219,14);display:flex;justify-content:center;align-items:center}button[_ngcontent-%COMP%]{width:50%}@media screen and (max-width: 446px){button[_ngcontent-%COMP%]{width:75%}}"]})}return t})()}}]);