"use strict";(self.webpackChunkFreshCart=self.webpackChunkFreshCart||[]).push([[159],{159:(J,p,r)=>{r.r(p),r.d(p,{HomeComponent:()=>Y});var a=r(6814),u=r(1120),_=r(756),d=r(4593),t=r(4769),g=r(8806),h=r(1132),f=r(5884),v=r(6286),x=r(2425);function C(i,o){1&i&&t._UZ(0,"img",5)}function T(i,o){1&i&&t._UZ(0,"img",6)}function A(i,o){1&i&&t._UZ(0,"img",7)}function Z(i,o){if(1&i&&(t._UZ(0,"img",10),t.TgZ(1,"h3",11),t._uU(2),t.qZA()),2&i){const e=t.oxw().$implicit;t.Q6J("src",e.image,t.LSH)("alt",e.name),t.xp6(2),t.Oqu(e.name)}}function D(i,o){1&i&&(t.ynx(0),t.YNc(1,Z,3,3,"ng-template",2),t.BQk())}function L(i,o){if(1&i&&(t.TgZ(0,"section")(1,"h2",8),t._uU(2,"Shop Popular Categories"),t.qZA(),t.TgZ(3,"owl-carousel-o",1),t.YNc(4,D,2,0,"ng-container",9),t.qZA()()),2&i){const e=t.oxw();t.xp6(3),t.Q6J("options",e.categoriesSlider),t.xp6(1),t.Q6J("ngForOf",e.allCategories)}}function P(i,o){if(1&i&&(t.TgZ(0,"div",31),t._uU(1),t.ALo(2,"discount"),t.qZA()),2&i){const e=t.oxw().$implicit;t.xp6(1),t.hij("",t.xi3(2,1,e.price,e.priceAfterDiscount)," %")}}function O(i,o){if(1&i&&(t.TgZ(0,"div",32)(1,"span",33),t._uU(2),t.ALo(3,"currency"),t.qZA(),t._UZ(4,"div",34),t.qZA()),2&i){const e=t.oxw().$implicit;t.xp6(2),t.Oqu(t.xi3(3,1,e.price," EGP "))}}function b(i,o){if(1&i&&(t.TgZ(0,"span"),t._uU(1),t.ALo(2,"currency"),t.qZA()),2&i){const e=t.oxw().$implicit;t.xp6(1),t.Oqu(t.xi3(2,1,e.priceAfterDiscount," EGP "))}}function E(i,o){if(1&i&&(t.TgZ(0,"span"),t._uU(1),t.ALo(2,"currency"),t.qZA()),2&i){const e=t.oxw().$implicit;t.xp6(1),t.Oqu(t.xi3(2,1,e.price," EGP "))}}const U=function(i){return{"rating-color":i}};function S(i,o){if(1&i&&t._UZ(0,"i",35),2&i){const e=o.$implicit,s=t.oxw().$implicit;t.Q6J("ngClass",t.VKq(1,U,e<=s.ratingsAverage))}}function W(i,o){if(1&i){const e=t.EpF();t.TgZ(0,"button",36),t.NdJ("click",function(){t.CHM(e);const n=t.oxw().$implicit,c=t.oxw(2);return t.KtG(c.addToWishlist(n.id))}),t._UZ(1,"i",37),t.qZA()}}function I(i,o){if(1&i){const e=t.EpF();t.TgZ(0,"button",38),t.NdJ("click",function(){t.CHM(e);const n=t.oxw().$implicit,c=t.oxw(2);return t.KtG(c.removeFromWishList(n.id))}),t._UZ(1,"i",39),t.qZA()}}const H=function(i){return["/details",i]},M=function(){return[1,2,3,4,5]};function w(i,o){if(1&i){const e=t.EpF();t.TgZ(0,"div",15)(1,"div",16),t.YNc(2,P,3,4,"div",17),t.TgZ(3,"div",18),t._UZ(4,"img",19),t.TgZ(5,"h3",20),t._uU(6),t.qZA(),t.TgZ(7,"h4",21),t._uU(8),t.qZA(),t.YNc(9,O,5,4,"div",22),t.TgZ(10,"div",23)(11,"div"),t.YNc(12,b,3,4,"span",3),t.YNc(13,E,3,4,"span",3),t.qZA(),t.TgZ(14,"div"),t.YNc(15,S,1,3,"i",24),t.TgZ(16,"span",25),t._uU(17),t.qZA()()()(),t.TgZ(18,"div",26)(19,"button",27,28),t.NdJ("click",function(){const c=t.CHM(e).$implicit,l=t.MAs(20),m=t.oxw(2);return t.KtG(m.addToCart(c.id,l))}),t._uU(21,"Add To Cart"),t.qZA(),t.YNc(22,W,2,0,"button",29),t.YNc(23,I,2,0,"button",30),t.qZA()()()}if(2&i){const e=o.$implicit,s=t.oxw(2);t.xp6(2),t.Q6J("ngIf",e.priceAfterDiscount),t.xp6(1),t.Q6J("routerLink",t.VKq(13,H,e.id)),t.xp6(1),t.Q6J("src",e.imageCover,t.LSH)("alt",e.title),t.xp6(2),t.Oqu(e.category.name),t.xp6(2),t.Oqu(e.title.split(" ").splice(0,2).join(" ")),t.xp6(1),t.Q6J("ngIf",e.priceAfterDiscount),t.xp6(3),t.Q6J("ngIf",e.priceAfterDiscount),t.xp6(1),t.Q6J("ngIf",!e.priceAfterDiscount),t.xp6(2),t.Q6J("ngForOf",t.DdM(15,M)),t.xp6(2),t.Oqu(e.ratingsAverage),t.xp6(5),t.Q6J("ngIf",!s.userWishListData.includes(e.id)),t.xp6(1),t.Q6J("ngIf",s.userWishListData.includes(e.id))}}function F(i,o){if(1&i&&(t.TgZ(0,"section",12)(1,"h2",8),t._uU(2,"Shop Popular Products"),t.qZA(),t.TgZ(3,"div",13),t.YNc(4,w,24,16,"div",14),t.ALo(5,"slice"),t.qZA()()),2&i){const e=t.oxw();t.xp6(4),t.Q6J("ngForOf",t.Dn7(5,1,e.allProducts,0,12))}}let Y=(()=>{class i{constructor(e,s,n,c,l,m){this._WishListService=e,this._ProductsService=s,this._CategoriesService=n,this._CartService=c,this._ToastrService=l,this._Renderer2=m,this.allProducts=[],this.allProductsArrived=!1,this.allCategories=[],this.allCategoriesArrived=!1,this.userWishListData=[],this.mainSlider={loop:!0,mouseDrag:!0,touchDrag:!0,pullDrag:!1,dots:!0,navSpeed:700,navText:["",""],responsive:{0:{items:1},400:{items:1},740:{items:1},940:{items:1}},nav:!1},this.categoriesSlider={loop:!0,autoplay:!0,mouseDrag:!0,touchDrag:!0,pullDrag:!1,dots:!1,navSpeed:700,navText:["",""],responsive:{0:{items:1},300:{items:2},500:{items:3},600:{items:4},740:{items:5},940:{items:6}},nav:!1}}ngOnInit(){this._ProductsService.getAllProducts().subscribe({next:e=>{this.allProducts=e.data.filter(n=>n.ratingsAverage>=4),this.allProductsArrived=!0},error:e=>{}}),this._CategoriesService.getAllCategories().subscribe({next:e=>{this.allCategories=e.data,this.allCategories[2].image="https://img.freepik.com/free-vector/hand-drawn-empowered-muslim-woman-illustration_23-2149704215.jpg?size=626&ext=jpg&ga=GA1.1.2118351627.1698065771&semt=ais",this.allCategoriesArrived=!0},error:e=>{}}),this._WishListService.getUserWishList().subscribe({next:e=>{this.userWishListData=e.data.map(s=>s.id)},error:e=>{}})}addToCart(e,s){this._Renderer2.setAttribute(s,"disabled","true"),this._CartService.addToCart(e).subscribe({next:n=>{this._Renderer2.removeAttribute(s,"disabled"),this._ToastrService.success(n.message,"FreshCart"),this._CartService.cartItemsNumber.next(n.numOfCartItems)},error:n=>{}})}removeFromWishList(e){this._WishListService.removeFromWishList(e).subscribe({next:s=>{this.userWishListData=s.data,this._ToastrService.warning(s.message,"FreshCart"),this._WishListService.wishListProductsCount.next(s.data.length)},error:s=>{}})}addToWishlist(e){this._WishListService.addToWishList(e).subscribe({next:s=>{this.userWishListData=s.data,this._ToastrService.success(s.message,"FreshCart"),this._WishListService.wishListProductsCount.next(s.data.length)},error:s=>{}})}static#t=this.\u0275fac=function(s){return new(s||i)(t.Y36(g.i),t.Y36(h.s),t.Y36(f.G),t.Y36(v.N),t.Y36(x._W),t.Y36(t.Qsj))};static#e=this.\u0275cmp=t.Xpm({type:i,selectors:[["app-home"]],standalone:!0,features:[t.jDz],decls:7,vars:3,consts:[[1,"my-3","py-3"],[3,"options"],["carouselSlide",""],[4,"ngIf"],["class","p-3",4,"ngIf"],["src","./assets/images/main-slider-1.jpeg","alt","main-img","height","400",1,"w-100"],["src","./assets/images/main-slider-2.jpeg","alt","main-img","height","400",1,"w-100"],["src","./assets/images/main-slider-3.jpeg","alt","main-img","height","400",1,"w-100"],[1,"text-main","mb-3"],[4,"ngFor","ngForOf"],["height","200",3,"src","alt"],[1,"text-muted","h6","text-center","mt-2"],[1,"p-3"],[1,"row","g-3"],["class","col-sm-6 col-md-4 col-lg-3",4,"ngFor","ngForOf"],[1,"col-sm-6","col-md-4","col-lg-3"],[1,"product","p-2","position-relative"],["class","discount position-absolute",4,"ngIf"],[2,"height","435px",3,"routerLink"],["height","300",1,"productImg","w-100","mb-2",3,"src","alt"],[1,"h6","text-main"],[1,"h6"],["class","priceBSale position-relative",4,"ngIf"],[1,"d-flex","flex-wrap","justify-content-between","align-items-center"],["class","fa-solid fa-star",3,"ngClass",4,"ngFor","ngForOf"],[1,"ms-2"],[1,"product-footer","d-flex","justify-content-between","align-items-center","mt-2","g-3"],[1,"btn-main","w-75","align-middle",3,"click"],["addBtn",""],["class","btn-main",3,"click",4,"ngIf"],["class","btn-main bg-danger",3,"click",4,"ngIf"],[1,"discount","position-absolute"],[1,"priceBSale","position-relative"],[1,"text-danger","small"],[1,"discountLine","position-absolute","bg-danger","top-50","start-50","translate-middle","w-100"],[1,"fa-solid","fa-star",3,"ngClass"],[1,"btn-main",3,"click"],[1,"fa-regular","fa-heart","fs-5"],[1,"btn-main","bg-danger",3,"click"],[1,"fa-solid","fa-heart","fs-5"]],template:function(s,n){1&s&&(t.TgZ(0,"section",0)(1,"owl-carousel-o",1),t.YNc(2,C,1,0,"ng-template",2),t.YNc(3,T,1,0,"ng-template",2),t.YNc(4,A,1,0,"ng-template",2),t.qZA()(),t.YNc(5,L,5,2,"section",3),t.YNc(6,F,6,5,"section",4)),2&s&&(t.xp6(1),t.Q6J("options",n.mainSlider),t.xp6(4),t.Q6J("ngIf",n.allCategoriesArrived),t.xp6(1),t.Q6J("ngIf",n.allProductsArrived))},dependencies:[a.ez,a.mk,a.sg,a.O5,a.OU,a.H9,_.bB,_.Fy,_.Mp,u.rH,d.B],styles:[".productImg[_ngcontent-%COMP%]{object-fit:contain}"]})}return i})()}}]);