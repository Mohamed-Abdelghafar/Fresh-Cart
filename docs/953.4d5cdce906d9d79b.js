"use strict";(self.webpackChunkFreshCart=self.webpackChunkFreshCart||[]).push([[953],{7953:(p,d,n)=>{n.r(d),n.d(d,{WishListComponent:()=>L});var a=n(6814),h=n(1120),t=n(4769),u=n(8806),c=n(6286),v=n(2425);const o=function(i){return["/details",i]};function _(i,m){if(1&i){const s=t.EpF();t.TgZ(0,"div",7)(1,"div",8)(2,"div",9),t._UZ(3,"img",10),t.TgZ(4,"h3",11),t._uU(5),t.qZA(),t.TgZ(6,"h4",12),t._uU(7),t.qZA(),t.TgZ(8,"div",13)(9,"span"),t._uU(10),t.ALo(11,"currency"),t.qZA(),t.TgZ(12,"span"),t._UZ(13,"i",14),t._uU(14),t.qZA()()(),t.TgZ(15,"div",15)(16,"button",16,17),t.NdJ("click",function(){const l=t.CHM(s).$implicit,g=t.MAs(17),T=t.oxw(2);return t.KtG(T.addToCart(l.id,g))}),t._uU(18,"Add To Cart"),t.qZA(),t.TgZ(19,"button",18),t.NdJ("click",function(){const l=t.CHM(s).$implicit,g=t.oxw(2);return t.KtG(g.removeFromWishList(l.id))}),t._UZ(20,"i",19),t.qZA()()()()}if(2&i){const s=m.$implicit;t.xp6(2),t.Q6J("routerLink",t.VKq(10,o,s.id)),t.xp6(1),t.Q6J("src",s.imageCover,t.LSH)("alt",s.title),t.xp6(2),t.Oqu(s.category.name),t.xp6(2),t.Oqu(s.title.split(" ").splice(0,2).join(" ")),t.xp6(3),t.Oqu(t.xi3(11,7,s.price," EGP ")),t.xp6(4),t.Oqu(s.ratingsAverage)}}function f(i,m){if(1&i&&(t.TgZ(0,"section",2)(1,"h1",3),t._uU(2,"My Wish List "),t._UZ(3,"img",4),t.qZA(),t.TgZ(4,"div",5),t.YNc(5,_,21,12,"div",6),t.qZA()()),2&i){const s=t.oxw();t.xp6(5),t.Q6J("ngForOf",s.userWishListProducts)}}function C(i,m){1&i&&(t.TgZ(0,"div",20)(1,"h3",21),t._uU(2," Your Wish List is empty"),t.qZA(),t._UZ(3,"img",4),t.qZA())}let L=(()=>{class i{constructor(s,e,r,l){this._WishListService=s,this._Renderer2=e,this._CartService=r,this._ToastrService=l,this.userWishListProducts=[],this.show=!1,this.arrived=!1}ngOnInit(){this._WishListService.getUserWishList().subscribe({next:s=>{this.userWishListProducts=s.data,this.arrived=!0,this.show=!(s.data.length>0)},error:s=>{console.log(s)}})}addToCart(s,e){this._Renderer2.setAttribute(e,"disabled","true"),this._CartService.addToCart(s).subscribe({next:r=>{this._Renderer2.removeAttribute(e,"disabled"),this._ToastrService.success(r.message,"FreshCart"),this._CartService.cartItemsNumber.next(r.numOfCartItems)},error:r=>{console.log(r)}})}removeFromWishList(s){this._WishListService.removeFromWishList(s).subscribe({next:e=>{this.show=!(e.data.length>0),this.userWishListProducts=this.userWishListProducts.filter(r=>e.data.includes(r.id)),this._ToastrService.warning(e.message,"FreshCart"),this._WishListService.wishListProductsCount.next(e.data.length)},error:e=>{console.log(e)}})}static#t=this.\u0275fac=function(e){return new(e||i)(t.Y36(u.i),t.Y36(t.Qsj),t.Y36(c.N),t.Y36(v._W))};static#s=this.\u0275cmp=t.Xpm({type:i,selectors:[["app-wish-list"]],standalone:!0,features:[t.jDz],decls:2,vars:2,consts:[["class","p-3 my-3",4,"ngIf"],["class","p-5 my-3 rounded-3 shadow bg-main-light d-flex justify-content-center align-items-center",4,"ngIf"],[1,"p-3","my-3"],[1,"text-main"],["src","./assets/images/love.png","alt","wishList-icon","height","50",1,"ms-3"],[1,"row","g-3"],["class","col-sm-6 col-md-4 col-lg-3",4,"ngFor","ngForOf"],[1,"col-sm-6","col-md-4","col-lg-3"],[1,"product","p-2"],[3,"routerLink"],[1,"w-100","mb-2",3,"src","alt"],[1,"h6","text-main"],[1,"h6"],[1,"d-flex","justify-content-between","align-items-center"],[1,"fa-solid","fa-star","rating-color"],[1,"product-footer","d-flex","justify-content-between","align-items-center","mt-2","g-3"],[1,"btn-main","w-75","align-middle",3,"click"],["addBtn",""],[1,"btn-main","bg-danger",3,"click"],[1,"fa-solid","fa-trash","fs-5"],[1,"p-5","my-3","rounded-3","shadow","bg-main-light","d-flex","justify-content-center","align-items-center"],[1,"text-danger"]],template:function(e,r){1&e&&(t.YNc(0,f,6,1,"section",0),t.YNc(1,C,4,0,"div",1)),2&e&&(t.Q6J("ngIf",r.arrived&&0==r.show),t.xp6(1),t.Q6J("ngIf",r.show))},dependencies:[a.ez,a.sg,a.O5,a.H9,h.rH]})}return i})()},6286:(p,d,n)=>{n.d(d,{N:()=>u});var a=n(5619),h=n(4769),t=n(9862);let u=(()=>{class c{constructor(o){this._HttpClient=o,this.cartItemsNumber=new a.X(0),this.baseUrl="https://ecommerce.routemisr.com/api/v1/cart/"}addToCart(o){return this._HttpClient.post(this.baseUrl,{productId:o})}getUserCart(){return this._HttpClient.get(this.baseUrl)}deleteItem(o){return this._HttpClient.delete(this.baseUrl+o)}updateItemCount(o,_){return this._HttpClient.put(this.baseUrl+o,{count:_})}deleteCart(){return this._HttpClient.delete(this.baseUrl)}static#t=this.\u0275fac=function(_){return new(_||c)(h.LFG(t.eN))};static#s=this.\u0275prov=h.Yz7({token:c,factory:c.\u0275fac,providedIn:"root"})}return c})()}}]);