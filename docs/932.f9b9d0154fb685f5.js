"use strict";(self.webpackChunkFreshCart=self.webpackChunkFreshCart||[]).push([[932],{6666:(v,c,a)=>{a.r(c),a.d(c,{LoginComponent:()=>h});var d=a(6814),g=a(1120),i=a(95),e=a(4769),m=a(9410);function u(n,l){if(1&n){const t=e.EpF();e.TgZ(0,"span",24),e.NdJ("click",function(s){e.CHM(t);const r=e.oxw();return e.KtG(r.showPass(s))}),e._UZ(1,"i",25),e.qZA()}}function p(n,l){if(1&n){const t=e.EpF();e.TgZ(0,"span",26),e.NdJ("click",function(s){e.CHM(t);const r=e.oxw();return e.KtG(r.hidePass(s))}),e._UZ(1,"i",27),e.qZA()}}function _(n,l){1&n&&e._UZ(0,"i",28)}function f(n,l){if(1&n&&(e.TgZ(0,"div",29),e._uU(1),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.Oqu(t.errorMessage)}}let h=(()=>{class n{constructor(t,o,s){this._AuthService=t,this._Router=o,this._FormBuilder=s,this.errorMessage="",this.isLoading=!1,this.showIcon=!0,this.hideIcon=!1,this.loginForm=this._FormBuilder.group({email:[""],password:[""]})}signin(){if(this.loginForm.valid){let t=this.loginForm.value;this.isLoading=!0,this._AuthService.signinApi(t).subscribe({next:o=>{"success"==o.message&&(this.isLoading=!1,localStorage.setItem("user-Token",o.token),this._AuthService.decodeToken(),this._Router.navigate(["/home"]))},error:o=>{this.isLoading=!1,this.errorMessage=o.error.message}})}}showPass(t){t.target.closest("div").children[0].type="text",t.target.closest("div").children[1].classList.add("d-none"),t.target.closest("div").children[2].classList.remove("d-none")}hidePass(t){t.target.closest("div").children[0].type="password",t.target.closest("div").children[1].classList.remove("d-none"),t.target.closest("div").children[2].classList.add("d-none")}static#e=this.\u0275fac=function(o){return new(o||n)(e.Y36(m.e),e.Y36(g.F0),e.Y36(i.qu))};static#t=this.\u0275cmp=e.Xpm({type:n,selectors:[["app-login"]],standalone:!0,features:[e.jDz],decls:36,vars:6,consts:[[1,"rounded-3","py-5","bg-main-light","my-5"],[1,"row"],[1,"col-lg-6"],[1,"d-flex","justify-content-center","align-items-center","h-100"],[1,"w-100","p-3",3,"formGroup","submit"],[1,"text-main","mb-4"],[1,"mb-2"],["for","userEmail",1,"ps-1"],["type","email","id","userEmail","formControlName","email","placeholder","Email ... ",1,"form-control","my-1"],["userEmail",""],["for","userpassword",1,"ps-1"],[1,"position-relative"],["type","password","id","userpassword","formControlName","password","placeholder","********",1,"form-control","my-1"],["userpassword",""],["class","position-absolute end-0 top-50 translate-middle-y me-2","role","button",3,"click",4,"ngIf"],["class","position-absolute end-0 top-50 translate-middle-y me-2 d-none","role","button",3,"click",4,"ngIf"],[1,"d-flex","flex-wrap","gap-2","justify-content-between","align-items-center","mt-3","ps-1"],[1,"btn-main",3,"disabled"],["class","fa-solid fa-spinner fa-spin",4,"ngIf"],["routerLink","/forgotPassword","role","button",1,"text-main","text-decoration-underline"],["class","alert alert-danger my-2",4,"ngIf"],[1,"text-center","mt-2"],["role","button","routerLink","/register",1,"loginBtn","text-decoration-underline"],["src","./assets/images/Computer login-rafiki.svg","alt","login-svg",1,"w-100"],["role","button",1,"position-absolute","end-0","top-50","translate-middle-y","me-2",3,"click"],[1,"fa-solid","fa-eye"],["role","button",1,"position-absolute","end-0","top-50","translate-middle-y","me-2","d-none",3,"click"],[1,"fa-solid","fa-eye-slash"],[1,"fa-solid","fa-spinner","fa-spin"],[1,"alert","alert-danger","my-2"]],template:function(o,s){if(1&o&&(e.TgZ(0,"section",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"form",4),e.NdJ("submit",function(){return s.signin()}),e.TgZ(5,"h1",5),e._uU(6,"Login Now"),e.qZA(),e.TgZ(7,"div",6)(8,"label",7),e._uU(9,"Email"),e.qZA(),e._UZ(10,"input",8,9),e.qZA(),e.TgZ(12,"div",6)(13,"label",10),e._uU(14,"Password"),e.qZA(),e.TgZ(15,"div",11),e._UZ(16,"input",12,13),e.YNc(18,u,2,0,"span",14),e.YNc(19,p,2,0,"span",15),e.qZA()(),e.TgZ(20,"div",16)(21,"button",17),e._uU(22,"Signin "),e.TgZ(23,"span"),e.YNc(24,_,1,0,"i",18),e.qZA()(),e.TgZ(25,"span")(26,"a",19),e._uU(27,"Forgot Password"),e.qZA()()(),e.YNc(28,f,2,1,"div",20),e.TgZ(29,"div",21),e._uU(30,"Don't Have an account ? "),e.TgZ(31,"a",22),e._uU(32,"Register Now"),e.qZA()()()()(),e.TgZ(33,"div",2)(34,"div"),e._UZ(35,"img",23),e.qZA()()()()),2&o){const r=e.MAs(17);e.xp6(4),e.Q6J("formGroup",s.loginForm),e.xp6(14),e.Q6J("ngIf",r.value.length>0),e.xp6(1),e.Q6J("ngIf",r.value.length>0),e.xp6(2),e.Q6J("disabled",s.loginForm.invalid),e.xp6(3),e.Q6J("ngIf",s.isLoading),e.xp6(4),e.Q6J("ngIf",s.errorMessage)}},dependencies:[d.ez,d.O5,i.UX,i._Y,i.Fj,i.JJ,i.JL,i.sg,i.u,g.rH],styles:["a[_ngcontent-%COMP%]{transition:.4s}a[_ngcontent-%COMP%]:hover{color:#c62c2c}.loginBtn[_ngcontent-%COMP%]{color:#0aad0a;transition:.3s}.loginBtn[_ngcontent-%COMP%]:hover{color:#2496dd}"]})}return n})()}}]);