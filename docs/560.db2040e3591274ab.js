"use strict";(self.webpackChunkFreshCart=self.webpackChunkFreshCart||[]).push([[560],{6560:(G,f,a)=>{a.r(f),a.d(f,{RegisterComponent:()=>D});var h=a(6814),o=a(95),Z=a(1120),e=a(4769),v=a(9410);function T(t,i){1&t&&(e.TgZ(0,"p",30),e._uU(1,"Min Characters 3"),e.qZA())}function x(t,i){1&t&&(e.TgZ(0,"p",30),e._uU(1,"Max Characters 20"),e.qZA())}function C(t,i){1&t&&(e.TgZ(0,"p",30),e._uU(1,"Name is required"),e.qZA())}function A(t,i){if(1&t&&(e.TgZ(0,"div",28),e.YNc(1,T,2,0,"p",29),e.YNc(2,x,2,0,"p",29),e.YNc(3,C,2,0,"p",29),e.qZA()),2&t){const n=e.oxw();let s,r,l;e.xp6(1),e.Q6J("ngIf",null==(s=n.registerForm.get("name"))?null:s.getError("minlength")),e.xp6(1),e.Q6J("ngIf",null==(r=n.registerForm.get("name"))?null:r.getError("maxlength")),e.xp6(1),e.Q6J("ngIf",null==(l=n.registerForm.get("name"))?null:l.getError("required"))}}function w(t,i){1&t&&(e.TgZ(0,"p",30),e._uU(1,"Email is required"),e.qZA())}function I(t,i){1&t&&(e.TgZ(0,"p",30),e._uU(1,"Email is not valid"),e.qZA())}function q(t,i){if(1&t&&(e.TgZ(0,"div",28),e.YNc(1,w,2,0,"p",29),e.YNc(2,I,2,0,"p",29),e.qZA()),2&t){const n=e.oxw();let s,r;e.xp6(1),e.Q6J("ngIf",null==(s=n.registerForm.get("email"))?null:s.getError("required")),e.xp6(1),e.Q6J("ngIf",null==(r=n.registerForm.get("email"))?null:r.getError("email"))}}function N(t,i){if(1&t){const n=e.EpF();e.TgZ(0,"span",31),e.NdJ("click",function(r){e.CHM(n);const l=e.oxw();return e.KtG(l.showPass(r))}),e._UZ(1,"i",32),e.qZA()}}function R(t,i){if(1&t){const n=e.EpF();e.TgZ(0,"span",33),e.NdJ("click",function(r){e.CHM(n);const l=e.oxw();return e.KtG(l.hidePass(r))}),e._UZ(1,"i",34),e.qZA()}}function P(t,i){1&t&&(e.TgZ(0,"p",30),e._uU(1,"password is required"),e.qZA())}function E(t,i){1&t&&(e.TgZ(0,"p",30),e._uU(1,"the first letter must be capital and contain (7-20)"),e.qZA())}function U(t,i){if(1&t&&(e.TgZ(0,"div",28),e.YNc(1,P,2,0,"p",29),e.YNc(2,E,2,0,"p",29),e.qZA()),2&t){const n=e.oxw();let s,r;e.xp6(1),e.Q6J("ngIf",null==(s=n.registerForm.get("password"))?null:s.getError("required")),e.xp6(1),e.Q6J("ngIf",null==(r=n.registerForm.get("password"))?null:r.getError("pattern"))}}function F(t,i){if(1&t){const n=e.EpF();e.TgZ(0,"span",31),e.NdJ("click",function(r){e.CHM(n);const l=e.oxw();return e.KtG(l.showPass(r))}),e._UZ(1,"i",32),e.qZA()}}function J(t,i){if(1&t){const n=e.EpF();e.TgZ(0,"span",33),e.NdJ("click",function(r){e.CHM(n);const l=e.oxw();return e.KtG(l.hidePass(r))}),e._UZ(1,"i",34),e.qZA()}}function M(t,i){1&t&&(e.TgZ(0,"p",30),e._uU(1,"rePassword is required"),e.qZA())}function b(t,i){1&t&&(e.TgZ(0,"p",30),e._uU(1,"RePassword isn't match"),e.qZA())}function y(t,i){if(1&t&&(e.TgZ(0,"div",28),e.YNc(1,M,2,0,"p",29),e.YNc(2,b,2,0,"p",29),e.qZA()),2&t){const n=e.oxw();let s,r;e.xp6(1),e.Q6J("ngIf",null==(s=n.registerForm.get("rePassword"))?null:s.getError("required")),e.xp6(1),e.Q6J("ngIf",null==(r=n.registerForm.get("rePassword"))?null:r.getError("misMatch"))}}function Y(t,i){1&t&&(e.TgZ(0,"p",30),e._uU(1,"phone is required"),e.qZA())}function Q(t,i){1&t&&(e.TgZ(0,"p",30),e._uU(1,"Accept only egyption numbers"),e.qZA())}function k(t,i){if(1&t&&(e.TgZ(0,"div",28),e.YNc(1,Y,2,0,"p",29),e.YNc(2,Q,2,0,"p",29),e.qZA()),2&t){const n=e.oxw();let s,r;e.xp6(1),e.Q6J("ngIf",null==(s=n.registerForm.get("phone"))?null:s.getError("required")),e.xp6(1),e.Q6J("ngIf",null==(r=n.registerForm.get("phone"))?null:r.getError("pattern"))}}function L(t,i){1&t&&e._UZ(0,"i",35)}function O(t,i){if(1&t&&(e.TgZ(0,"div",36),e._uU(1),e.qZA()),2&t){const n=e.oxw();e.xp6(1),e.Oqu(n.errorMessage)}}let D=(()=>{class t{constructor(n,s){this._AuthService=n,this._Router=s,this.errorMessage="",this.isLoading=!1,this.registerForm=new o.cw({name:new o.NI("",[o.kI.required,o.kI.minLength(3),o.kI.maxLength(20)]),email:new o.NI("",[o.kI.required,o.kI.email]),password:new o.NI("",[o.kI.required,o.kI.pattern(/^[A-Z][a-z0-9]{6,20}$/)]),rePassword:new o.NI(""),phone:new o.NI("",[o.kI.required,o.kI.pattern(/^01[0125][0-9]{8}$/)])},{validators:[this.confirmPassword]})}confirmPassword(n){let s=n.get("password"),r=n.get("rePassword");""==r?.value?r.setErrors({required:!0}):s?.value!=r?.value&&r?.setErrors({misMatch:!0})}signUp(){if(this.registerForm.valid){let n=this.registerForm.value;this.isLoading=!0,this._AuthService.signupApi(n).subscribe({next:s=>{"success"==s.message&&(this.isLoading=!1,this._Router.navigate(["/login"]))},error:s=>{this.isLoading=!1,this.errorMessage=s.error.message}})}}showPass(n){n.target.closest("div").children[0].type="text",n.target.closest("div").children[1].classList.add("d-none"),n.target.closest("div").children[2].classList.remove("d-none")}hidePass(n){n.target.closest("div").children[0].type="password",n.target.closest("div").children[1].classList.remove("d-none"),n.target.closest("div").children[2].classList.add("d-none")}static#e=this.\u0275fac=function(s){return new(s||t)(e.Y36(v.e),e.Y36(Z.F0))};static#t=this.\u0275cmp=e.Xpm({type:t,selectors:[["app-register"]],standalone:!0,features:[e.jDz],decls:49,vars:13,consts:[[1,"rounded-3","py-5"],[1,"rounded-3","bg-main-light","p-3","pt-5",3,"formGroup","submit"],[1,"text-main","mb-4"],[1,"mb-2"],["for","userName"],["type","text","id","userName","formControlName","name","placeholder","Name ... ",1,"form-control","my-1"],["userName",""],["class","alert alert-danger mt-2 py-2",4,"ngIf"],["for","userEmail"],["type","email","id","userEmail","formControlName","email","placeholder","Email ... ",1,"form-control","my-1"],["userEmail",""],["for","userpassword"],[1,"position-relative"],["type","password","id","userpassword","formControlName","password","placeholder","*******",1,"form-control","my-1"],["userpassword",""],["class","position-absolute end-0 top-50 translate-middle-y me-2","role","button",3,"click",4,"ngIf"],["class","position-absolute end-0 top-50 translate-middle-y me-2 d-none","role","button",3,"click",4,"ngIf"],["for","userRePassword"],["type","password","id","userRePassword","formControlName","rePassword","placeholder","*******",1,"form-control","my-1"],["userRePassword",""],["for","userPhone"],["type","tel","id","userPhone","formControlName","phone","placeholder","Phone ... ",1,"form-control","my-1"],["userPhone",""],[1,"btn-main","ms-auto","d-block","mt-3","mb-1",3,"disabled"],["class","fa-solid fa-spinner fa-spin",4,"ngIf"],["class","alert alert-danger mt-2",4,"ngIf"],[1,"text-center","mt-2"],["role","button","routerLink","/login",1,"registerBtn","text-decoration-underline"],[1,"alert","alert-danger","mt-2","py-2"],["class","mb-0",4,"ngIf"],[1,"mb-0"],["role","button",1,"position-absolute","end-0","top-50","translate-middle-y","me-2",3,"click"],[1,"fa-solid","fa-eye"],["role","button",1,"position-absolute","end-0","top-50","translate-middle-y","me-2","d-none",3,"click"],[1,"fa-solid","fa-eye-slash"],[1,"fa-solid","fa-spinner","fa-spin"],[1,"alert","alert-danger","mt-2"]],template:function(s,r){if(1&s&&(e.TgZ(0,"section",0)(1,"form",1),e.NdJ("submit",function(){return r.signUp()}),e.TgZ(2,"h1",2),e._uU(3,"Register Now"),e.qZA(),e.TgZ(4,"div",3)(5,"label",4),e._uU(6,"Name"),e.qZA(),e._UZ(7,"input",5,6),e.YNc(9,A,4,3,"div",7),e.qZA(),e.TgZ(10,"div",3)(11,"label",8),e._uU(12,"Email"),e.qZA(),e._UZ(13,"input",9,10),e.YNc(15,q,3,2,"div",7),e.qZA(),e.TgZ(16,"div",3)(17,"label",11),e._uU(18,"Password"),e.qZA(),e.TgZ(19,"div",12),e._UZ(20,"input",13,14),e.YNc(22,N,2,0,"span",15),e.YNc(23,R,2,0,"span",16),e.qZA(),e.YNc(24,U,3,2,"div",7),e.qZA(),e.TgZ(25,"div",3)(26,"label",17),e._uU(27,"RePassword"),e.qZA(),e.TgZ(28,"div",12),e._UZ(29,"input",18,19),e.YNc(31,F,2,0,"span",15),e.YNc(32,J,2,0,"span",16),e.qZA(),e.YNc(33,y,3,2,"div",7),e.qZA(),e.TgZ(34,"div",3)(35,"label",20),e._uU(36,"Phone"),e.qZA(),e._UZ(37,"input",21,22),e.YNc(39,k,3,2,"div",7),e.qZA(),e.TgZ(40,"button",23),e._uU(41,"Signup "),e.TgZ(42,"span"),e.YNc(43,L,1,0,"i",24),e.qZA()(),e.YNc(44,O,2,1,"div",25),e.TgZ(45,"div",26),e._uU(46,"Have an account ? "),e.TgZ(47,"a",27),e._uU(48,"Login Now"),e.qZA()()()()),2&s){const l=e.MAs(8),K=e.MAs(14),c=e.MAs(21),d=e.MAs(30),B=e.MAs(38);let p,_,g,m,u;e.xp6(1),e.Q6J("formGroup",r.registerForm),e.xp6(8),e.Q6J("ngIf",(null==(p=r.registerForm.get("name"))?null:p.errors)&&((null==(p=r.registerForm.get("name"))?null:p.touched)||l.value.length>0)),e.xp6(6),e.Q6J("ngIf",(null==(_=r.registerForm.get("email"))?null:_.errors)&&((null==(_=r.registerForm.get("email"))?null:_.touched)||K.value.length>0)),e.xp6(7),e.Q6J("ngIf",c.value.length>0),e.xp6(1),e.Q6J("ngIf",c.value.length>0),e.xp6(1),e.Q6J("ngIf",(null==(g=r.registerForm.get("password"))?null:g.errors)&&((null==(g=r.registerForm.get("password"))?null:g.touched)||c.value.length>0)),e.xp6(7),e.Q6J("ngIf",d.value.length>0),e.xp6(1),e.Q6J("ngIf",d.value.length>0),e.xp6(1),e.Q6J("ngIf",(null==(m=r.registerForm.get("rePassword"))?null:m.errors)&&((null==(m=r.registerForm.get("rePassword"))?null:m.touched)||d.value.length>0)),e.xp6(6),e.Q6J("ngIf",(null==(u=r.registerForm.get("phone"))?null:u.errors)&&((null==(u=r.registerForm.get("phone"))?null:u.touched)||B.value.length>0)),e.xp6(1),e.Q6J("disabled",r.registerForm.invalid),e.xp6(3),e.Q6J("ngIf",r.isLoading),e.xp6(1),e.Q6J("ngIf",r.errorMessage)}},dependencies:[h.ez,h.O5,o.UX,o._Y,o.Fj,o.JJ,o.JL,o.sg,o.u,Z.rH],styles:[".registerBtn[_ngcontent-%COMP%]{color:#0aad0a;transition:.3s}.registerBtn[_ngcontent-%COMP%]:hover{color:#0084ff}"]})}return t})()}}]);