"use strict";(self.webpackChunkFreshCart=self.webpackChunkFreshCart||[]).push([[691],{9691:(E,_,n)=>{n.r(_),n.d(_,{DetailsComponent:()=>T});var a=n(6814),l=n(756),t=n(4769),u=n(1132),p=n(1120),d=n(2425),m=n(6286);const g=["img"];function f(i,o){if(1&i){const e=t.EpF();t.TgZ(0,"div",22),t.NdJ("click",function(r){t.CHM(e);const c=t.oxw(2);return t.KtG(c.active(r))}),t._UZ(1,"img",23),t.qZA()}if(2&i){const e=o.$implicit,s=t.oxw(2);t.xp6(1),t.Q6J("src",e,t.LSH)("alt",s.productDetails.title)}}function v(i,o){if(1&i&&(t.TgZ(0,"div",24)(1,"span",25),t._uU(2),t.ALo(3,"currency"),t.qZA(),t._UZ(4,"div",26),t.qZA()),2&i){const e=t.oxw(2);t.xp6(2),t.Oqu(t.xi3(3,1,e.productDetails.price," EGP "))}}function x(i,o){if(1&i&&(t.TgZ(0,"span")(1,"span",14),t._uU(2,"Cost : "),t.qZA(),t._uU(3),t.ALo(4,"currency"),t.qZA()),2&i){const e=t.oxw(2);t.xp6(3),t.Oqu(t.xi3(4,1,e.productDetails.priceAfterDiscount," EGP "))}}function D(i,o){if(1&i&&(t.TgZ(0,"span")(1,"span",14),t._uU(2,"Cost : "),t.qZA(),t._uU(3),t.ALo(4,"currency"),t.qZA()),2&i){const e=t.oxw(2);t.xp6(3),t.Oqu(t.xi3(4,1,e.productDetails.price," EGP "))}}const h=function(i){return{"rating-color":i}};function C(i,o){if(1&i&&t._UZ(0,"i",27),2&i){const e=o.$implicit,s=t.oxw(2);t.Q6J("ngClass",t.VKq(1,h,e<=s.productDetails.ratingsAverage))}}const A=function(){return[1,2,3,4,5]};function Z(i,o){if(1&i){const e=t.EpF();t.TgZ(0,"section",1)(1,"div",2)(2,"div",3)(3,"div",4)(4,"div"),t._UZ(5,"img",5,6),t.qZA(),t.TgZ(7,"div",7),t.YNc(8,f,2,2,"div",8),t.ALo(9,"slice"),t.qZA()()(),t.TgZ(10,"div",9)(11,"div",10)(12,"h1",11),t._uU(13),t.qZA(),t.TgZ(14,"h2",12),t._uU(15),t.qZA(),t.TgZ(16,"p",13)(17,"span",14),t._uU(18,"Avilable in stock : "),t.qZA(),t._uU(19),t.qZA(),t.TgZ(20,"p",13)(21,"span",14),t._uU(22,"Sold : "),t.qZA(),t._uU(23),t.qZA(),t._UZ(24,"hr"),t.TgZ(25,"h3"),t._uU(26),t.qZA(),t.YNc(27,v,5,4,"div",15),t.TgZ(28,"div",16)(29,"div"),t.YNc(30,x,5,4,"span",17),t.YNc(31,D,5,4,"span",17),t.qZA(),t.TgZ(32,"div"),t.YNc(33,C,1,3,"i",18),t.TgZ(34,"span",19),t._uU(35),t.qZA()()(),t.TgZ(36,"button",20,21),t.NdJ("click",function(){t.CHM(e);const r=t.MAs(37),c=t.oxw();return t.KtG(c.addToCart(r))}),t._uU(38,"Add To Cart"),t.qZA()()()()()}if(2&i){const e=t.oxw();t.xp6(5),t.Q6J("src",e.productDetails.imageCover,t.LSH)("alt",e.productDetails.title),t.xp6(3),t.Q6J("ngForOf",t.Dn7(9,13,e.productDetails.images,0,4)),t.xp6(5),t.Oqu(e.productDetails.title),t.xp6(2),t.Oqu(e.productDetails.description),t.xp6(4),t.Oqu(e.productDetails.quantity),t.xp6(4),t.Oqu(e.productDetails.sold),t.xp6(3),t.Oqu(e.productDetails.category.name),t.xp6(1),t.Q6J("ngIf",e.productDetails.priceAfterDiscount),t.xp6(3),t.Q6J("ngIf",e.productDetails.priceAfterDiscount),t.xp6(1),t.Q6J("ngIf",!e.productDetails.priceAfterDiscount),t.xp6(2),t.Q6J("ngForOf",t.DdM(17,A)),t.xp6(2),t.Oqu(e.productDetails.ratingsAverage)}}let T=(()=>{class i{constructor(e,s,r,c,O){this._ProductsService=e,this._ActivatedRoute=s,this._ToastrService=r,this._CartService=c,this._Renderer2=O,this.productId="",this.arrived=!1,this.productImages={loop:!0,mouseDrag:!0,touchDrag:!0,pullDrag:!1,dots:!0,navSpeed:700,navText:["",""],responsive:{0:{items:1},400:{items:1},740:{items:1},940:{items:1}},nav:!1},this._ActivatedRoute.paramMap.subscribe({next:U=>{this.start()}})}start(){this._ActivatedRoute.paramMap.subscribe({next:e=>{this.productId=e.get("id")},error:e=>{}}),this._ProductsService.getSpecificProduct(this.productId).subscribe({next:e=>{this.productDetails=e.data,this.arrived=!0},error:e=>{}})}addToCart(e){this._Renderer2.setAttribute(e,"disabled","true"),this._CartService.addToCart(this.productId).subscribe({next:s=>{this._Renderer2.removeAttribute(e,"disabled"),this._ToastrService.success(s.message,"FreshCart"),this._CartService.cartItemsNumber.next(s.numOfCartItems)}})}active(e){this.mainImg.nativeElement.src=e.target.src}static#t=this.\u0275fac=function(s){return new(s||i)(t.Y36(u.s),t.Y36(p.gz),t.Y36(d._W),t.Y36(m.N),t.Y36(t.Qsj))};static#e=this.\u0275cmp=t.Xpm({type:i,selectors:[["app-details"]],viewQuery:function(s,r){if(1&s&&t.Gf(g,5),2&s){let c;t.iGM(c=t.CRH())&&(r.mainImg=c.first)}},standalone:!0,features:[t.jDz],decls:1,vars:1,consts:[["class","my-3 py-4",4,"ngIf"],[1,"my-3","py-4"],[1,"row","d-flex","align-items-center","justify-content-between","g-3"],[1,"col-md-4"],[1,"p-2","rounded-3","shadow","bg-main-light"],[1,"mainImg","w-100",3,"src","alt"],["img",""],[1,"d-flex","flex-wrap","gap-2","justify-content-center","mt-2"],["class","itemContainer",3,"click",4,"ngFor","ngForOf"],[1,"col-md-8"],[1,"h-100","d-flex","flex-column","justify-content-center","p-3","rounded-3","shadow","bg-main-light"],[1,"h4","text-main"],[1,"h5"],[1,"mb-1"],[1,"text-main"],["class","priceBSale position-relative",4,"ngIf"],[1,"d-flex","flex-wrap","justify-content-between","align-items-center"],[4,"ngIf"],["class","fa-solid fa-star",3,"ngClass",4,"ngFor","ngForOf"],[1,"ms-2"],[1,"btn-main","w-100","mt-3",3,"click"],["add",""],[1,"itemContainer",3,"click"],[1,"w-100",3,"src","alt"],[1,"priceBSale","position-relative"],[1,"text-danger","small"],[1,"discountLine","position-absolute","bg-danger","top-50","start-50","translate-middle","w-100"],[1,"fa-solid","fa-star",3,"ngClass"]],template:function(s,r){1&s&&t.YNc(0,Z,39,18,"section",0),2&s&&t.Q6J("ngIf",r.arrived)},dependencies:[a.ez,a.mk,a.sg,a.O5,a.OU,a.H9,l.bB],styles:["@media screen and (max-width: 767px){.mainImg[_ngcontent-%COMP%]{height:300px;object-fit:contain}}.itemContainer[_ngcontent-%COMP%]{width:20%;cursor:pointer}"]})}return i})()}}]);