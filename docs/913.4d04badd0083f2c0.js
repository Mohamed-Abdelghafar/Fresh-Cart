"use strict";(self.webpackChunkFreshCart=self.webpackChunkFreshCart||[]).push([[913],{9913:(b,m,l)=>{l.r(m),l.d(m,{ResetPasswordComponent:()=>N});var g=l(6814),d=l(95),e=l(4769),w=l(9410),f=l(2425),P=l(1120);function v(t,a){if(1&t){const s=e.EpF();e.TgZ(0,"span",19),e.NdJ("click",function(r){e.CHM(s);const n=e.oxw();return e.KtG(n.showPass(r))}),e._UZ(1,"i",20),e.qZA()}}function Z(t,a){if(1&t){const s=e.EpF();e.TgZ(0,"span",21),e.NdJ("click",function(r){e.CHM(s);const n=e.oxw();return e.KtG(n.hidePass(r))}),e._UZ(1,"i",22),e.qZA()}}function h(t,a){1&t&&(e.TgZ(0,"p",25),e._uU(1,"password is required"),e.qZA())}function T(t,a){if(1&t&&(e.TgZ(0,"div",23),e.YNc(1,h,2,0,"p",24),e.qZA()),2&t){const s=e.oxw();let o;e.xp6(1),e.Q6J("ngIf",null==(o=s.updatePasswordForm.get("currentPassword"))?null:o.getError("required"))}}function x(t,a){if(1&t){const s=e.EpF();e.TgZ(0,"span",19),e.NdJ("click",function(r){e.CHM(s);const n=e.oxw();return e.KtG(n.showPass(r))}),e._UZ(1,"i",20),e.qZA()}}function C(t,a){if(1&t){const s=e.EpF();e.TgZ(0,"span",21),e.NdJ("click",function(r){e.CHM(s);const n=e.oxw();return e.KtG(n.hidePass(r))}),e._UZ(1,"i",22),e.qZA()}}function A(t,a){1&t&&(e.TgZ(0,"p",25),e._uU(1,"password is required"),e.qZA())}function R(t,a){1&t&&(e.TgZ(0,"p",25),e._uU(1,"the first letter must be capital and contain (7-20)"),e.qZA())}function q(t,a){if(1&t&&(e.TgZ(0,"div",23),e.YNc(1,A,2,0,"p",24),e.YNc(2,R,2,0,"p",24),e.qZA()),2&t){const s=e.oxw();let o,r;e.xp6(1),e.Q6J("ngIf",null==(o=s.updatePasswordForm.get("password"))?null:o.getError("required")),e.xp6(1),e.Q6J("ngIf",null==(r=s.updatePasswordForm.get("password"))?null:r.getError("pattern"))}}function E(t,a){if(1&t){const s=e.EpF();e.TgZ(0,"span",19),e.NdJ("click",function(r){e.CHM(s);const n=e.oxw();return e.KtG(n.showPass(r))}),e._UZ(1,"i",20),e.qZA()}}function U(t,a){if(1&t){const s=e.EpF();e.TgZ(0,"span",21),e.NdJ("click",function(r){e.CHM(s);const n=e.oxw();return e.KtG(n.hidePass(r))}),e._UZ(1,"i",22),e.qZA()}}function I(t,a){1&t&&(e.TgZ(0,"p",25),e._uU(1,"rePassword is required"),e.qZA())}function F(t,a){1&t&&(e.TgZ(0,"p",25),e._uU(1,"RePassword isn't match"),e.qZA())}function J(t,a){if(1&t&&(e.TgZ(0,"div",23),e.YNc(1,I,2,0,"p",24),e.YNc(2,F,2,0,"p",24),e.qZA()),2&t){const s=e.oxw();let o,r;e.xp6(1),e.Q6J("ngIf",null==(o=s.updatePasswordForm.get("rePassword"))?null:o.getError("required")),e.xp6(1),e.Q6J("ngIf",null==(r=s.updatePasswordForm.get("rePassword"))?null:r.getError("misMatch"))}}function M(t,a){if(1&t&&(e.TgZ(0,"div",26),e._uU(1),e.qZA()),2&t){const s=e.oxw();e.xp6(1),e.Oqu(s.errorMessage)}}let N=(()=>{class t{constructor(s,o,r,n){this._FormBuilder=s,this._AuthService=o,this._ToastrService=r,this._Router=n,this.errorMessage="",this.updatePasswordForm=this._FormBuilder.group({currentPassword:["",[d.kI.required]],password:["",[d.kI.required,d.kI.pattern(/^[A-Z][a-z0-9]{6,20}$/)]],rePassword:[""]},{validators:[this.confirmPassword]})}confirmPassword(s){let o=s.get("password"),r=s.get("rePassword");""==r?.value?r.setErrors({required:!0}):o?.value!=r?.value&&r?.setErrors({misMatch:!0})}update(){this._AuthService.updateLoggedUserPassword(this.updatePasswordForm.value).subscribe({next:s=>{"success"==s.message&&(this._ToastrService.success("Your Password Was Updated Successfully"),setTimeout(()=>{this._Router.navigate(["/login"])},700))},error:s=>{console.log(s),this.errorMessage=s.error.errors.msg}})}showPass(s){s.target.closest("div").children[0].type="text",s.target.closest("div").children[1].classList.add("d-none"),s.target.closest("div").children[2].classList.remove("d-none")}hidePass(s){s.target.closest("div").children[0].type="password",s.target.closest("div").children[1].classList.remove("d-none"),s.target.closest("div").children[2].classList.add("d-none")}static#e=this.\u0275fac=function(o){return new(o||t)(e.Y36(d.qu),e.Y36(w.e),e.Y36(f._W),e.Y36(P.F0))};static#s=this.\u0275cmp=e.Xpm({type:t,selectors:[["app-reset-password"]],standalone:!0,features:[e.jDz],decls:34,vars:12,consts:[[1,"rounded-3","py-3","my-3"],[1,"text-main","text-center","mb-4"],[1,"rounded-3","bg-main-light","p-3","pt-5",3,"formGroup"],[1,"mb-2"],["for","userCurrentpassword",1,"ms-1"],[1,"position-relative"],["type","password","id","userCurrentpassword","formControlName","currentPassword","placeholder","***********",1,"form-control","my-1"],["userCurrentpassword",""],["class","position-absolute end-0 top-50 translate-middle-y me-2","role","button",3,"click",4,"ngIf"],["class","position-absolute end-0 top-50 translate-middle-y me-2 d-none","role","button",3,"click",4,"ngIf"],["class","alert alert-danger mt-2 py-2",4,"ngIf"],["for","userpassword",1,"ms-1"],["type","password","id","userpassword","formControlName","password","placeholder","***********",1,"form-control","my-1"],["userpassword",""],["for","userRePassword",1,"ms-1"],["type","password","id","userRePassword","formControlName","rePassword","placeholder","***********",1,"form-control","my-1"],["userRePassword",""],[1,"btn-main","ms-auto","d-block","mt-3","mb-1",3,"disabled","click"],["class","alert alert-danger mt-2",4,"ngIf"],["role","button",1,"position-absolute","end-0","top-50","translate-middle-y","me-2",3,"click"],[1,"fa-solid","fa-eye"],["role","button",1,"position-absolute","end-0","top-50","translate-middle-y","me-2","d-none",3,"click"],[1,"fa-solid","fa-eye-slash"],[1,"alert","alert-danger","mt-2","py-2"],["class","mb-0",4,"ngIf"],[1,"mb-0"],[1,"alert","alert-danger","mt-2"]],template:function(o,r){if(1&o&&(e.TgZ(0,"section",0)(1,"h1",1),e._uU(2,"Update Password"),e.qZA(),e.TgZ(3,"form",2)(4,"div",3)(5,"label",4),e._uU(6,"Current Password"),e.qZA(),e.TgZ(7,"div",5),e._UZ(8,"input",6,7),e.YNc(10,v,2,0,"span",8),e.YNc(11,Z,2,0,"span",9),e.qZA(),e.YNc(12,T,2,1,"div",10),e.qZA(),e.TgZ(13,"div",3)(14,"label",11),e._uU(15,"New Password"),e.qZA(),e.TgZ(16,"div",5),e._UZ(17,"input",12,13),e.YNc(19,x,2,0,"span",8),e.YNc(20,C,2,0,"span",9),e.qZA(),e.YNc(21,q,3,2,"div",10),e.qZA(),e.TgZ(22,"div",3)(23,"label",14),e._uU(24,"RePassword"),e.qZA(),e.TgZ(25,"div",5),e._UZ(26,"input",15,16),e.YNc(28,E,2,0,"span",8),e.YNc(29,U,2,0,"span",9),e.qZA(),e.YNc(30,J,3,2,"div",10),e.qZA(),e.TgZ(31,"button",17),e.NdJ("click",function(){return r.update()}),e._uU(32,"UPdate"),e.qZA(),e.YNc(33,M,2,1,"div",18),e.qZA()()),2&o){const n=e.MAs(9),c=e.MAs(18),u=e.MAs(27);let p,i,_;e.xp6(3),e.Q6J("formGroup",r.updatePasswordForm),e.xp6(7),e.Q6J("ngIf",n.value.length>0),e.xp6(1),e.Q6J("ngIf",n.value.length>0),e.xp6(1),e.Q6J("ngIf",(null==(p=r.updatePasswordForm.get("currentPassword"))?null:p.errors)&&((null==(p=r.updatePasswordForm.get("currentPassword"))?null:p.touched)||n.value.length>0)),e.xp6(7),e.Q6J("ngIf",c.value.length>0),e.xp6(1),e.Q6J("ngIf",c.value.length>0),e.xp6(1),e.Q6J("ngIf",(null==(i=r.updatePasswordForm.get("password"))?null:i.errors)&&((null==(i=r.updatePasswordForm.get("password"))?null:i.touched)||c.value.length>0)),e.xp6(7),e.Q6J("ngIf",u.value.length>0),e.xp6(1),e.Q6J("ngIf",u.value.length>0),e.xp6(1),e.Q6J("ngIf",(null==(_=r.updatePasswordForm.get("rePassword"))?null:_.errors)&&((null==(_=r.updatePasswordForm.get("rePassword"))?null:_.touched)||u.value.length>0)),e.xp6(1),e.Q6J("disabled",r.updatePasswordForm.invalid),e.xp6(2),e.Q6J("ngIf",r.errorMessage)}},dependencies:[g.ez,g.O5,d.UX,d._Y,d.Fj,d.JJ,d.JL,d.sg,d.u]})}return t})()}}]);