"use strict";(self.webpackChunkFreshCart=self.webpackChunkFreshCart||[]).push([[656],{9656:(v,p,r)=>{r.r(p),r.d(p,{SpecificCategoryComponent:()=>S});var a=r(6814),d=r(1120),g=r(4593),t=r(4769),u=r(5884),_=r(8806),c=r(1132),m=r(6286),C=r(2425);function x(e,n){if(1&e&&(t.TgZ(0,"div",29),t._uU(1),t.ALo(2,"discount"),t.qZA()),2&e){const i=t.oxw().$implicit;t.xp6(1),t.hij("",t.xi3(2,1,i.price,i.priceAfterDiscount)," %")}}function T(e,n){if(1&e&&(t.TgZ(0,"div",30)(1,"span",31),t._uU(2),t.ALo(3,"currency"),t.qZA(),t._UZ(4,"div",32),t.qZA()),2&e){const i=t.oxw().$implicit;t.xp6(2),t.Oqu(t.xi3(3,1,i.price," EGP "))}}function A(e,n){if(1&e&&(t.TgZ(0,"span"),t._uU(1),t.ALo(2,"currency"),t.qZA()),2&e){const i=t.oxw().$implicit;t.xp6(1),t.Oqu(t.xi3(2,1,i.priceAfterDiscount," EGP "))}}function y(e,n){if(1&e&&(t.TgZ(0,"span"),t._uU(1),t.ALo(2,"currency"),t.qZA()),2&e){const i=t.oxw().$implicit;t.xp6(1),t.Oqu(t.xi3(2,1,i.price," EGP "))}}const D=function(e){return{"rating-color":e}};function E(e,n){if(1&e&&t._UZ(0,"i",33),2&e){const i=n.$implicit,s=t.oxw().$implicit;t.Q6J("ngClass",t.VKq(1,D,i<=s.ratingsAverage))}}function P(e,n){if(1&e){const i=t.EpF();t.TgZ(0,"button",34),t.NdJ("click",function(){t.CHM(i);const o=t.oxw().$implicit,l=t.oxw(2);return t.KtG(l.addToWishlist(o.id))}),t._UZ(1,"i",35),t.qZA()}}function b(e,n){if(1&e){const i=t.EpF();t.TgZ(0,"button",36),t.NdJ("click",function(){t.CHM(i);const o=t.oxw().$implicit,l=t.oxw(2);return t.KtG(l.removeFromWishList(o.id))}),t._UZ(1,"i",37),t.qZA()}}const Z=function(e){return["/details",e]},I=function(){return[1,2,3,4,5]};function O(e,n){if(1&e){const i=t.EpF();t.TgZ(0,"div",12)(1,"div",13),t.YNc(2,x,3,4,"div",14),t.TgZ(3,"div",15),t._UZ(4,"img",16),t.TgZ(5,"h3",17),t._uU(6),t.qZA(),t.TgZ(7,"h4",18),t._uU(8),t.qZA(),t.YNc(9,T,5,4,"div",19),t.TgZ(10,"div",20)(11,"div"),t.YNc(12,A,3,4,"span",21),t.YNc(13,y,3,4,"span",21),t.qZA(),t.TgZ(14,"div"),t.YNc(15,E,1,3,"i",22),t.TgZ(16,"span",23),t._uU(17),t.qZA()()()(),t.TgZ(18,"div",24)(19,"button",25,26),t.NdJ("click",function(){const l=t.CHM(i).$implicit,h=t.MAs(20),f=t.oxw(2);return t.KtG(f.addToCart(l.id,h))}),t._uU(21,"Add To Cart"),t.qZA(),t.YNc(22,P,2,0,"button",27),t.YNc(23,b,2,0,"button",28),t.qZA()()()}if(2&e){const i=n.$implicit,s=t.oxw(2);t.xp6(2),t.Q6J("ngIf",i.priceAfterDiscount),t.xp6(1),t.Q6J("routerLink",t.VKq(13,Z,i.id)),t.xp6(1),t.Q6J("src",i.imageCover,t.LSH)("alt",i.title),t.xp6(2),t.Oqu(i.category.name),t.xp6(2),t.Oqu(i.title.split(" ").splice(0,2).join(" ")),t.xp6(1),t.Q6J("ngIf",i.priceAfterDiscount),t.xp6(3),t.Q6J("ngIf",i.priceAfterDiscount),t.xp6(1),t.Q6J("ngIf",!i.priceAfterDiscount),t.xp6(2),t.Q6J("ngForOf",t.DdM(15,I)),t.xp6(2),t.Oqu(i.ratingsAverage),t.xp6(5),t.Q6J("ngIf",!s.userWishListData.includes(i.id)),t.xp6(1),t.Q6J("ngIf",s.userWishListData.includes(i.id))}}function U(e,n){1&e&&(t.TgZ(0,"div",38)(1,"h5"),t._uU(2,"Sorry , No products by this name for now "),t._UZ(3,"img",39),t.qZA()())}function L(e,n){if(1&e&&(t.TgZ(0,"section",1)(1,"div",2)(2,"div",3)(3,"div",4),t._UZ(4,"img",5),t.qZA()(),t.TgZ(5,"div",6)(6,"h1",7)(7,"span",8),t._uU(8,"Category Name : "),t.qZA(),t._uU(9),t.qZA()()(),t.TgZ(10,"div",9)(11,"div",2),t.YNc(12,O,24,16,"div",10),t.qZA()(),t.YNc(13,U,4,0,"div",11),t.qZA()),2&e){const i=t.oxw();t.xp6(4),t.Q6J("src",i.categoryData.image,t.LSH)("alt",i.categoryData.name),t.xp6(5),t.Oqu(i.categoryData.name),t.xp6(3),t.Q6J("ngForOf",i.allProducts),t.xp6(1),t.Q6J("ngIf",i.noProducts)}}let S=(()=>{class e{constructor(i,s,o,l,h,f,M){this._CategoriesService=i,this._WishListService=s,this._ActivatedRoute=o,this._ProductsService=l,this._Renderer2=h,this._CartService=f,this._ToastrService=M,this.categoryId="",this.categoryData={},this.allProducts=[],this.userWishListData=[],this.arrived=!1,this.noProducts=!1}ngOnInit(){this._ActivatedRoute.paramMap.subscribe({next:i=>{this.categoryId=i.get("id")}}),this._CategoriesService.getspecificCategory(this.categoryId).subscribe({next:i=>{this.categoryData=i.data,"https://ecommerce.routemisr.com/Route-Academy-categories/1681511818071.jpeg"==this.categoryData.image&&(this.categoryData.image="https://img.freepik.com/free-vector/hand-drawn-empowered-muslim-woman-illustration_23-2149704215.jpg?size=626&ext=jpg&ga=GA1.1.2118351627.1698065771&semt=ais"),this.arrived=!0},error:i=>{}}),this._ProductsService.getAllProducts().subscribe({next:i=>{this.allProducts=i.data,this.allProducts=i.data.filter(s=>s.category._id==this.categoryId),0==this.allProducts.length&&(this.noProducts=!0)},error:i=>{}})}addToCart(i,s){this._Renderer2.setAttribute(s,"disabled","true"),this._CartService.addToCart(i).subscribe({next:o=>{this._Renderer2.removeAttribute(s,"disabled"),this._ToastrService.success(o.message,"FreshCart"),this._CartService.cartItemsNumber.next(o.numOfCartItems)},error:o=>{}})}removeFromWishList(i){this._WishListService.removeFromWishList(i).subscribe({next:s=>{this.userWishListData=s.data,this._ToastrService.warning(s.message,"FreshCart"),this._WishListService.wishListProductsCount.next(s.data.length)},error:s=>{}})}addToWishlist(i){this._WishListService.addToWishList(i).subscribe({next:s=>{this.userWishListData=s.data,this._ToastrService.success(s.message,"FreshCart"),this._WishListService.wishListProductsCount.next(s.data.length)},error:s=>{}})}static#t=this.\u0275fac=function(s){return new(s||e)(t.Y36(u.G),t.Y36(_.i),t.Y36(d.gz),t.Y36(c.s),t.Y36(t.Qsj),t.Y36(m.N),t.Y36(C._W))};static#i=this.\u0275cmp=t.Xpm({type:e,selectors:[["app-specific-category"]],standalone:!0,features:[t.jDz],decls:1,vars:1,consts:[["class","my-3 p-4 bg-main-light",4,"ngIf"],[1,"my-3","p-4","bg-main-light"],[1,"row","g-3"],[1,"col-lg-3"],[1,"p-2","rounded-3","shadow"],["height","300",1,"w-100",3,"src","alt"],[1,"col-lg-9"],[1,"h4"],[1,"text-main"],[1,"mt-3"],["class","col-sm-6 col-md-4 col-lg-3",4,"ngFor","ngForOf"],["class","my-3",4,"ngIf"],[1,"col-sm-6","col-md-4","col-lg-3"],[1,"product","p-2","position-relative"],["class","discount position-absolute",4,"ngIf"],[2,"height","435px",3,"routerLink"],["height","300",1,"w-100","mb-2",3,"src","alt"],[1,"h6","text-main"],[1,"h6"],["class","priceBSale position-relative",4,"ngIf"],[1,"d-flex","flex-wrap","justify-content-between","align-items-center"],[4,"ngIf"],["class","fa-solid fa-star",3,"ngClass",4,"ngFor","ngForOf"],[1,"ms-2"],[1,"product-footer","d-flex","justify-content-between","align-items-center","mt-2","g-3"],[1,"btn-main","w-75","align-middle",3,"click"],["addBtn",""],["class","btn-main",3,"click",4,"ngIf"],["class","btn-main bg-danger",3,"click",4,"ngIf"],[1,"discount","position-absolute"],[1,"priceBSale","position-relative"],[1,"text-danger","small"],[1,"discountLine","position-absolute","bg-danger","top-50","start-50","translate-middle","w-100"],[1,"fa-solid","fa-star",3,"ngClass"],[1,"btn-main",3,"click"],[1,"fa-regular","fa-heart","fs-5"],[1,"btn-main","bg-danger",3,"click"],[1,"fa-solid","fa-heart","fs-5"],[1,"my-3"],["src","./assets/images/sad.png","alt","sad-img","width","50",1,"ms-2"]],template:function(s,o){1&s&&t.YNc(0,L,14,5,"section",0),2&s&&t.Q6J("ngIf",o.arrived)},dependencies:[a.ez,a.mk,a.sg,a.O5,a.H9,d.rH,g.B]})}return e})()},6286:(v,p,r)=>{r.d(p,{N:()=>t});var a=r(5619),d=r(4769),g=r(9862);let t=(()=>{class u{constructor(c){this._HttpClient=c,this.cartItemsNumber=new a.X(0),this.baseUrl="https://ecommerce.routemisr.com/api/v1/cart/"}addToCart(c){return this._HttpClient.post(this.baseUrl,{productId:c})}getUserCart(){return this._HttpClient.get(this.baseUrl)}deleteItem(c){return this._HttpClient.delete(this.baseUrl+c)}updateItemCount(c,m){return this._HttpClient.put(this.baseUrl+c,{count:m})}deleteCart(){return this._HttpClient.delete(this.baseUrl)}static#t=this.\u0275fac=function(m){return new(m||u)(d.LFG(g.eN))};static#i=this.\u0275prov=d.Yz7({token:u,factory:u.\u0275fac,providedIn:"root"})}return u})()},1132:(v,p,r)=>{r.d(p,{s:()=>g});var a=r(4769),d=r(9862);let g=(()=>{class t{constructor(_){this._HttpClient=_,this.baseUrl="https://ecommerce.routemisr.com/api/v1/products/"}getAllProducts(_=1){return this._HttpClient.get(this.baseUrl+`?page=${_}`)}getSpecificProduct(_){return this._HttpClient.get(this.baseUrl+_)}static#t=this.\u0275fac=function(c){return new(c||t)(a.LFG(d.eN))};static#i=this.\u0275prov=a.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})()}}]);