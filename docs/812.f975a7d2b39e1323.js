"use strict";(self.webpackChunkFreshCart=self.webpackChunkFreshCart||[]).push([[812],{1812:(P,p,a)=>{a.r(p),a.d(p,{UserAdderssComponent:()=>E});var u=a(6814),s=a(95),e=a(4769),c=a(8175),g=a(1120);function f(t,i){1&t&&(e.TgZ(0,"p",17),e._uU(1,"Min Characters 10"),e.qZA())}function h(t,i){1&t&&(e.TgZ(0,"p",17),e._uU(1,"Max Characters 30"),e.qZA())}function A(t,i){1&t&&(e.TgZ(0,"p",17),e._uU(1,"Address is required"),e.qZA())}function v(t,i){if(1&t&&(e.TgZ(0,"div",15),e.YNc(1,f,2,0,"p",16),e.YNc(2,h,2,0,"p",16),e.YNc(3,A,2,0,"p",16),e.qZA()),2&t){const r=e.oxw();let l,n,o;e.xp6(1),e.Q6J("ngIf",null==(l=r.detailsForm.get("details"))?null:l.getError("minlength")),e.xp6(1),e.Q6J("ngIf",null==(n=r.detailsForm.get("details"))?null:n.getError("maxlength")),e.xp6(1),e.Q6J("ngIf",null==(o=r.detailsForm.get("details"))?null:o.getError("required"))}}function Z(t,i){1&t&&(e.TgZ(0,"p",17),e._uU(1,"phone is required"),e.qZA())}function U(t,i){1&t&&(e.TgZ(0,"p",17),e._uU(1,"the phone number isn't valid"),e.qZA())}function C(t,i){if(1&t&&(e.TgZ(0,"div",15),e.YNc(1,Z,2,0,"p",16),e.YNc(2,U,2,0,"p",16),e.qZA()),2&t){const r=e.oxw();let l,n;e.xp6(1),e.Q6J("ngIf",null==(l=r.detailsForm.get("phone"))?null:l.getError("required")),e.xp6(1),e.Q6J("ngIf",null==(n=r.detailsForm.get("phone"))?null:n.getError("pattern"))}}function x(t,i){1&t&&(e.TgZ(0,"p",17),e._uU(1,"Min Characters 3"),e.qZA())}function T(t,i){1&t&&(e.TgZ(0,"p",17),e._uU(1,"Max Characters 15"),e.qZA())}function I(t,i){1&t&&(e.TgZ(0,"p",17),e._uU(1,"City is required"),e.qZA())}function y(t,i){if(1&t&&(e.TgZ(0,"div",15),e.YNc(1,x,2,0,"p",16),e.YNc(2,T,2,0,"p",16),e.YNc(3,I,2,0,"p",16),e.qZA()),2&t){const r=e.oxw();let l,n,o;e.xp6(1),e.Q6J("ngIf",null==(l=r.detailsForm.get("city"))?null:l.getError("minlength")),e.xp6(1),e.Q6J("ngIf",null==(n=r.detailsForm.get("city"))?null:n.getError("maxlength")),e.xp6(1),e.Q6J("ngIf",null==(o=r.detailsForm.get("city"))?null:o.getError("required"))}}let E=(()=>{class t{constructor(r,l,n){this._FormBuilder=r,this._PaymentService=l,this._ActivatedRoute=n,this.detailsForm=this._FormBuilder.group({details:[null,[s.kI.required,s.kI.minLength(10),s.kI.maxLength(30)]],phone:[null,[s.kI.required,s.kI.pattern(/^01[0,1,2,5][0-9]{8}$/)]],city:[null,[s.kI.required,s.kI.minLength(3),s.kI.maxLength(15)]]}),this.cartId=""}ngOnInit(){this._ActivatedRoute.paramMap.subscribe({next:r=>{this.cartId=r.get("id")},error:r=>{}})}completePayment(){this._PaymentService.onlinePayment(this.cartId,this.detailsForm.value).subscribe({next:r=>{"success"==r.status&&window.open(r.session.url,"_self")},error:r=>{}})}static#e=this.\u0275fac=function(l){return new(l||t)(e.Y36(s.qu),e.Y36(c.t),e.Y36(g.gz))};static#t=this.\u0275cmp=e.Xpm({type:t,selectors:[["app-user-adderss"]],standalone:!0,features:[e.jDz],decls:25,vars:5,consts:[[1,"my-3","p-3","rounded-3","bg-main-light"],[3,"formGroup","submit"],[1,"mb-2"],["for","address",1,"text-main","ps-1"],["name","address","id","address","placeholder","Enter Your Address ...","formControlName","details",1,"form-control","mt-2"],["detailsInput",""],["class","alert alert-danger mt-2",4,"ngIf"],["for","phone",1,"text-main","ps-1"],["type","tel","name","userPhone","id","phone","placeholder","Enter Your Phone ...","formControlName","phone",1,"form-control","mt-2"],["userPhone",""],["for","city",1,"text-main","ps-1"],["type","text","name","userCity","id","city","placeholder","Enter Your City ...","formControlName","city",1,"form-control","mt-2"],["cityInput",""],[1,"btn-main","payment","py-1","px-2","mt-3",3,"disabled"],["src","./assets/images/visa-1.svg","alt","visa.img",1,"ms-2"],[1,"alert","alert-danger","mt-2"],["class","mb-0",4,"ngIf"],[1,"mb-0"]],template:function(l,n){if(1&l&&(e.TgZ(0,"section",0)(1,"h1"),e._uU(2,"Fill your address details"),e.qZA(),e.TgZ(3,"form",1),e.NdJ("submit",function(){return n.completePayment()}),e.TgZ(4,"div",2)(5,"label",3),e._uU(6,"Address Details"),e.qZA(),e._UZ(7,"textarea",4,5),e.YNc(9,v,4,3,"div",6),e.qZA(),e.TgZ(10,"div",2)(11,"label",7),e._uU(12,"Phone"),e.qZA(),e._UZ(13,"input",8,9),e.YNc(15,C,3,2,"div",6),e.qZA(),e.TgZ(16,"div",2)(17,"label",10),e._uU(18,"City"),e.qZA(),e._UZ(19,"input",11,12),e.YNc(21,y,4,3,"div",6),e.qZA(),e.TgZ(22,"button",13),e._uU(23,"Complete Payment "),e._UZ(24,"img",14),e.qZA()()()),2&l){const o=e.MAs(8),F=e.MAs(14),q=e.MAs(20);let d,_,m;e.xp6(3),e.Q6J("formGroup",n.detailsForm),e.xp6(6),e.Q6J("ngIf",(null==(d=n.detailsForm.get("details"))?null:d.errors)&&((null==(d=n.detailsForm.get("address"))?null:d.touched)||o.value.length>0)),e.xp6(6),e.Q6J("ngIf",(null==(_=n.detailsForm.get("phone"))?null:_.errors)&&((null==(_=n.detailsForm.get("phone"))?null:_.touched)||F.value.length>0)),e.xp6(6),e.Q6J("ngIf",(null==(m=n.detailsForm.get("city"))?null:m.errors)&&((null==(m=n.detailsForm.get("city"))?null:m.touched)||q.value.length>0)),e.xp6(1),e.Q6J("disabled",n.detailsForm.invalid)}},dependencies:[u.ez,u.O5,s.UX,s._Y,s.Fj,s.JJ,s.JL,s.sg,s.u]})}return t})()}}]);