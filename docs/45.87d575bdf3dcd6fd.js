"use strict";(self.webpackChunkFreshCart=self.webpackChunkFreshCart||[]).push([[45],{6286:(f,m,i)=>{i.d(m,{N:()=>d});var l=i(5619),c=i(4769),p=i(9862);let d=(()=>{class h{constructor(a){this._HttpClient=a,this.cartItemsNumber=new l.X(0),this.baseUrl="https://ecommerce.routemisr.com/api/v1/cart/"}addToCart(a){return this._HttpClient.post(this.baseUrl,{productId:a})}getUserCart(){return this._HttpClient.get(this.baseUrl)}deleteItem(a){return this._HttpClient.delete(this.baseUrl+a)}updateItemCount(a,v){return this._HttpClient.put(this.baseUrl+a,{count:v})}deleteCart(){return this._HttpClient.delete(this.baseUrl)}static#t=this.\u0275fac=function(v){return new(v||h)(c.LFG(p.eN))};static#e=this.\u0275prov=c.Yz7({token:h,factory:h.\u0275fac,providedIn:"root"})}return h})()},1132:(f,m,i)=>{i.d(m,{s:()=>p});var l=i(4769),c=i(9862);let p=(()=>{class d{constructor(t){this._HttpClient=t,this.baseUrl="https://ecommerce.routemisr.com/api/v1/products/"}getAllProducts(t=1){return this._HttpClient.get(this.baseUrl+`?page=${t}`)}getSpecificProduct(t){return this._HttpClient.get(this.baseUrl+t)}static#t=this.\u0275fac=function(a){return new(a||d)(l.LFG(c.eN))};static#e=this.\u0275prov=l.Yz7({token:d,factory:d.\u0275fac,providedIn:"root"})}return d})()},4045:(f,m,i)=>{i.r(m),i.d(m,{BlankLayoutComponent:()=>U});var l=i(6814),c=i(1120),p=i(95),d=i(6787),h=i(4593),t=i(4769),a=i(9410),v=i(6286),C=i(8806),x=i(8175),b=i(1132);const k=["navBar"],O=["searchInput"],T=["searchList"];function Z(r,_){if(1&r&&(t.TgZ(0,"div",51),t._uU(1),t.ALo(2,"discount"),t.qZA()),2&r){const e=t.oxw().$implicit;t.xp6(1),t.hij(" ",t.xi3(2,1,e.price,e.priceAfterDiscount)," % ")}}function P(r,_){if(1&r){const e=t.EpF();t.TgZ(0,"div")(1,"div",46)(2,"div",47),t.NdJ("click",function(){const s=t.CHM(e).$implicit,u=t.oxw(2),g=t.MAs(31);return t.KtG(u.productDetails(s.id,g))}),t._UZ(3,"img",48),t.YNc(4,Z,3,4,"div",49),t.TgZ(5,"h3",50),t._uU(6),t.qZA()()()()}if(2&r){const e=_.$implicit;t.xp6(3),t.Q6J("src",e.imageCover,t.LSH)("alt",e.title),t.xp6(1),t.Q6J("ngIf",e.priceAfterDiscount),t.xp6(2),t.Oqu(e.title.split(" ").splice(0,2).join(" "))}}function w(r,_){if(1&r&&(t.TgZ(0,"div"),t.YNc(1,P,7,4,"div",45),t.ALo(2,"search"),t.qZA()),2&r){const e=t.oxw();t.xp6(1),t.Q6J("ngForOf",t.xi3(2,1,e.allProducts,e.mainSearchTerm))}}function M(r,_){1&r&&(t.TgZ(0,"div")(1,"div"),t._uU(2," Nothing to show .... "),t.qZA()())}let y=(()=>{class r{constructor(e,o,n,s,u,g,A){this._Router=e,this._AuthService=o,this._CartService=n,this._Renderer2=s,this._WishListService=u,this._PaymentService=g,this._ProductsService=A,this.itemsCartCount=0,this.wishListProductsCount=0,this.userOrdersNumber=0,this.userId="",this.userName="",this.mainSearchTerm="",this.allProducts=[],this.showText=!1}changeColor(){scrollY>250?this._Renderer2.addClass(this.navBarRef.nativeElement,"bg-change"):this._Renderer2.removeClass(this.navBarRef.nativeElement,"bg-change")}ngOnInit(){this._ProductsService.getAllProducts().subscribe({next:e=>{this.allProducts=e.data},error:e=>{}}),this._CartService.getUserCart().subscribe({next:e=>{this.itemsCartCount=e.numOfCartItems},error:e=>{}}),this._CartService.cartItemsNumber.subscribe({next:e=>{this.itemsCartCount=e},error:e=>{}}),this._WishListService.getUserWishList().subscribe({next:e=>{this.wishListProductsCount=e.count},error:e=>{console.log(e)}}),this._WishListService.wishListProductsCount.subscribe({next:e=>{this.wishListProductsCount=e},error:e=>{console.log(e)}}),this._AuthService.decodeToken(),this.userId=this._AuthService.userData.id,this.userName=this._AuthService.userData.name,this._PaymentService.userAllOrders(this.userId).subscribe({next:e=>{this.userOrdersNumber=e.length},error:e=>{console.log(e)}}),this._PaymentService.ordersNumber.subscribe({next:e=>{this.userOrdersNumber=e},error:e=>{console.log(e)}})}signOut(){localStorage.removeItem("user-Token"),this._Router.navigate(["/login"])}showSearchList(e){this._Renderer2.removeClass(e,"d-none")}productDetails(e,o){this._Router.navigate([`/details/${e}`]),this._Renderer2.addClass(o,"d-none")}closeSearchList(e){e.target!==this.searchInput.nativeElement&&this._Renderer2.addClass(this.searchList.nativeElement,"d-none")}check(){this.showText=""==this.searchList.nativeElement.innerText}static#t=this.\u0275fac=function(o){return new(o||r)(t.Y36(c.F0),t.Y36(a.e),t.Y36(v.N),t.Y36(t.Qsj),t.Y36(C.i),t.Y36(x.t),t.Y36(b.s))};static#e=this.\u0275cmp=t.Xpm({type:r,selectors:[["app-nav-blank"]],viewQuery:function(o,n){if(1&o&&(t.Gf(k,5),t.Gf(O,5),t.Gf(T,5)),2&o){let s;t.iGM(s=t.CRH())&&(n.navBarRef=s.first),t.iGM(s=t.CRH())&&(n.searchInput=s.first),t.iGM(s=t.CRH())&&(n.searchList=s.first)}},hostBindings:function(o,n){1&o&&t.NdJ("scroll",function(){return n.changeColor()},!1,t.Jf7)("click",function(u){return n.closeSearchList(u)},!1,t.Jf7)},standalone:!0,features:[t.jDz],decls:65,vars:7,consts:[[1,"navbar","navbar-expand-lg","navbar-light","bg-light","fixed-top","shadow-sm","d-flex","flex-column","justify-content-start"],["navBar",""],[1,"container"],["routerLink","home",1,"navbar-brand"],["src","./assets/images/freshcart-logo.svg","alt","freshcart-logo"],["type","button","data-bs-toggle","collapse","data-bs-target","#collapsibleNavId","aria-controls","collapsibleNavId","aria-expanded","false","aria-label","Toggle navigation",1,"navbar-toggler","d-lg-none"],[1,"navbar-toggler-icon"],["id","collapsibleNavId",1,"collapse","navbar-collapse"],[1,"navbar-nav","ms-auto","mt-2"],[1,"nav-item"],["routerLink","home","routerLinkActive","active-link",1,"nav-link","ps-2"],["routerLink","cart","routerLinkActive","active-link",1,"nav-link","ps-2"],["routerLink","products","routerLinkActive","active-link",1,"nav-link","ps-2"],["routerLink","categories","routerLinkActive","active-link",1,"nav-link","ps-2"],["routerLink","brands","routerLinkActive","active-link",1,"nav-link","ps-2"],[1,"container","d-flex","flex-wrap-reverse","gap-2","justify-content-between","align-items-center","my-2"],[1,"position-relative","d-flex"],["type","search","placeholder","Search ....",1,"searchInput","rounded-start-3","rounded-end-0","form-control",3,"ngModel","keyup","focus","ngModelChange"],["searchInput",""],[1,"bg-main","searchIcon","px-3","py-2","rounded-end-3","rounded-start-0"],[1,"fa-solid","fa-magnifying-glass","text-white","fa-1x"],[1,"position-absolute","searchList","rounded-3","shadow","overflow-auto","p-2","mt-2","d-none"],["searchList",""],[4,"ngIf"],[1,"mb-0","ps-0","d-flex","flex-wrap","align-items-center","justify-content-center"],[1,"me-2"],["routerLink","allorders",1,"nav-link","position-relative"],[1,"fa-solid","fa-truck","fa-2x","text-main"],[1,"badge","bg-danger","position-absolute","top-0","end-0","translate-middle-y"],["routerLink","wishList",1,"nav-link","position-relative"],[1,"fa-solid","fa-heart","fa-2x","text-main"],[1,"me-3"],["routerLink","cart",1,"nav-link","position-relative"],[1,"fa-solid","fa-cart-shopping","fa-2x","text-main"],[1,"me-2","dropdown-center"],["type","button","data-bs-toggle","dropdown","aria-expanded","false",1,"btn-main","dropdown-toggle","d-flex","align-items-center","rounded-4","px-3","py-2"],[1,"userIcon","text-main","me-2"],[1,"fa-solid","fa-user","fs-5"],[1,"dropdown-menu","rounded-3","text-center"],["role","button",1,"signOut",3,"click"],[1,"fa-solid","fa-arrow-right-from-bracket","ms-2"],["role","button",1,"settings","mt-2"],[1,"fa-solid","fa-sliders","ms-2"],[1,"update","dropdown-menu","text-center","py-2"],["role","button","routerLink","updatePassword",1,"my-2"],[4,"ngFor","ngForOf"],[1,"p-2","position-relative"],["role","button",1,"box","text-center","d-flex","flex-row","gap-3","align-items-center","shadow-sm","p-2",3,"click"],["width","40%",1,"shadow",3,"src","alt"],["class","discount position-absolute top-0 start-0",4,"ngIf"],[1,"h6","mb-0","small","text-center"],[1,"discount","position-absolute","top-0","start-0"]],template:function(o,n){if(1&o){const s=t.EpF();t.TgZ(0,"nav",0,1)(2,"div",2)(3,"a",3),t._UZ(4,"img",4),t.qZA(),t.TgZ(5,"button",5),t._UZ(6,"span",6),t.qZA(),t.TgZ(7,"div",7)(8,"ul",8)(9,"li",9)(10,"a",10),t._uU(11,"Home"),t.qZA()(),t.TgZ(12,"li",9)(13,"a",11),t._uU(14,"Cart"),t.qZA()(),t.TgZ(15,"li",9)(16,"a",12),t._uU(17,"Products"),t.qZA()(),t.TgZ(18,"li",9)(19,"a",13),t._uU(20,"Categories"),t.qZA()(),t.TgZ(21,"li",9)(22,"a",14),t._uU(23,"Brands"),t.qZA()()()()(),t.TgZ(24,"div",15)(25,"div",16)(26,"input",17,18),t.NdJ("keyup",function(){return n.check()})("focus",function(){t.CHM(s);const g=t.MAs(31);return t.KtG(n.showSearchList(g))})("ngModelChange",function(g){return n.mainSearchTerm=g}),t.qZA(),t.TgZ(28,"span",19),t._UZ(29,"i",20),t.qZA(),t.TgZ(30,"div",21,22),t.YNc(32,w,3,4,"div",23),t.YNc(33,M,3,0,"div",23),t.qZA()(),t.TgZ(34,"ul",24)(35,"li",25)(36,"a",26),t._UZ(37,"i",27),t.TgZ(38,"span",28),t._uU(39),t.qZA()()(),t.TgZ(40,"li",25)(41,"a",29),t._UZ(42,"i",30),t.TgZ(43,"span",28),t._uU(44),t.qZA()()(),t.TgZ(45,"li",31)(46,"a",32),t._UZ(47,"i",33),t.TgZ(48,"span",28),t._uU(49),t.qZA()()(),t.TgZ(50,"li",34)(51,"button",35)(52,"div",36),t._UZ(53,"i",37),t.qZA(),t._uU(54),t.qZA(),t.TgZ(55,"ul",38)(56,"li",39),t.NdJ("click",function(){return n.signOut()}),t._uU(57," Sign Out "),t._UZ(58,"i",40),t.qZA(),t.TgZ(59,"li",41),t._uU(60," Settings "),t._UZ(61,"i",42),t.TgZ(62,"ul",43)(63,"li",44),t._uU(64," Update Password "),t.qZA()()()()()()()()}2&o&&(t.xp6(26),t.Q6J("ngModel",n.mainSearchTerm),t.xp6(6),t.Q6J("ngIf",n.mainSearchTerm),t.xp6(1),t.Q6J("ngIf",!n.mainSearchTerm||n.showText),t.xp6(6),t.Oqu(n.userOrdersNumber),t.xp6(5),t.Oqu(n.wishListProductsCount),t.xp6(5),t.Oqu(n.itemsCartCount),t.xp6(5),t.hij(" ",n.userName.split(" ").slice(0,1).join(" ")," "))},dependencies:[l.ez,l.sg,l.O5,c.rH,c.Od,p.u5,p.Fj,p.JJ,p.On,d.C,h.B],styles:["li[_ngcontent-%COMP%]{list-style:none}.dropdown-menu[data-bs-popper][_ngcontent-%COMP%]{right:0;left:unset}.dropdown-toggle[_ngcontent-%COMP%]:after{display:none}.userIcon[_ngcontent-%COMP%]{width:30px;height:30px;border-radius:50%;display:flex;align-items:center;justify-content:center;background-color:#fff;padding:10px}.dropdown-menu[_ngcontent-%COMP%]   .signOut[_ngcontent-%COMP%]{transition:.2s}.dropdown-menu[_ngcontent-%COMP%]   .signOut[_ngcontent-%COMP%]:hover{margin-left:10px;color:#ad0a0a}.dropdown-menu[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{transition:.2s}.dropdown-menu[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:hover{color:#0aad0a}.update[_ngcontent-%COMP%]{display:none}.settings[_ngcontent-%COMP%]{transition:.5s}.settings[_ngcontent-%COMP%]:hover   .update[_ngcontent-%COMP%]{display:block}.update[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{transition:.2s}.update[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:hover{color:#0a84ad}.searchInput[_ngcontent-%COMP%]{width:250px;border:2px solid #0aad0a}.searchInput[_ngcontent-%COMP%]:focus{box-shadow:0 0 0 .15rem #42d94245}.searchList[_ngcontent-%COMP%]{width:320px;top:110%;left:0;right:0;min-height:50px;max-height:300px;background-color:#d7d7d7}.box[_ngcontent-%COMP%]{width:95%;margin:auto;border:2px solid white;transition:.3s}.box[_ngcontent-%COMP%]:hover{border:2px solid #0bbf0b}@media screen and (max-width: 360px){.searchInput[_ngcontent-%COMP%]{width:100%}.searchList[_ngcontent-%COMP%]{width:80%}}.discount[_ngcontent-%COMP%]{width:45px;height:45px;border-radius:50%;background-color:#bc1414;color:#fff;display:flex;justify-content:center;align-items:center}"]})}return r})();var L=i(7913);const B=["upBtn"];let U=(()=>{class r{constructor(e){this._Renderer2=e}showBtn(){scrollY>window.screenY?this._Renderer2.removeClass(this.upButton.nativeElement,"d-none"):this._Renderer2.addClass(this.upButton.nativeElement,"d-none")}scrollToTop(){window.scrollTo(0,0)}static#t=this.\u0275fac=function(o){return new(o||r)(t.Y36(t.Qsj))};static#e=this.\u0275cmp=t.Xpm({type:r,selectors:[["app-blank-layout"]],viewQuery:function(o,n){if(1&o&&t.Gf(B,5),2&o){let s;t.iGM(s=t.CRH())&&(n.upButton=s.first)}},hostBindings:function(o,n){1&o&&t.NdJ("scroll",function(){return n.showBtn()},!1,t.Jf7)},standalone:!0,features:[t.jDz],decls:7,vars:0,consts:[[1,"container"],[1,"btn-main","rounded-3","scrollUpBtn","d-none",3,"click"],["upBtn",""],[1,"fa-solid","fa-arrow-up"]],template:function(o,n){1&o&&(t._UZ(0,"app-nav-blank"),t.TgZ(1,"div",0),t._UZ(2,"router-outlet"),t.qZA(),t._UZ(3,"app-footer"),t.TgZ(4,"button",1,2),t.NdJ("click",function(){return n.scrollToTop()}),t._UZ(6,"i",3),t.qZA())},dependencies:[l.ez,c.lC,y,L.c],styles:["[_nghost-%COMP%]{min-height:100vh;display:flex;flex-direction:column;justify-content:space-between}.scrollUpBtn[_ngcontent-%COMP%]{width:40px;height:40px;position:fixed;bottom:1%;right:1%;display:flex;justify-content:center;align-items:center;z-index:9999}.container[_ngcontent-%COMP%]{margin-top:125px}@media screen and (max-width: 767px){.container[_ngcontent-%COMP%]{margin-top:165px}}@media screen and (max-width: 270px){.container[_ngcontent-%COMP%]{margin-top:250px}}"]})}return r})()}}]);